import{x as g,aN as G,ay as f,as as U,aO as q,aP as $,ax as L,ar as W,aQ as _,aR as d,aS as V,aT as J,u as k,a as S,aC as Q,aU as X,t as Y,aV as Z,g as i,b as o,p as s,aW as z,aq as K,aD as w,aX as B,aY as N,f as b,aZ as ee,a_ as H,a6 as O,l as x,i as R,j as P,c as T,a$ as te,b0 as ne,b1 as ae,b2 as oe,b3 as ie,b4 as D,b5 as re}from"./links-cd71ff6b.js";const le=[{element:"nameInput",func:function(){g()}},{element:"researchTeam",func:function(){G(),f()}},{element:"fileUpload",handler:"change",func:function(){U(this)}},{element:"portalglyphsInput",func:function(){q(this),$(),g()}},{element:"discoveredInput",func:function(){L("discoveredInput","discoveredlinkInput"),f()}},{element:"discoveredlinkInput",func:function(){L("discoveredlinkInput","discoveredInput"),f()}},{element:"docbyInput",func:function(){f()}},{element:"axesInput",handler:"change",func:function(){W()}},{element:"glyphDeleteButton",handler:"click",func:function(){_()}},{element:"fileUploadTooltip",handler:"click",func:function(){d.uploadShown=!0}},{element:"galleryFileUploadTooltip",handler:"click",func:function(){d.galleryUploadShown=!0}}];V(),J(),k(Z),S(le),Q();const se={output:{explanationHeading:"explanationHeading",explanationContent:"explanationContent",explanationLink:"explanationLink",explanationWebpImg:"explanationWebpImg",explanationFallbackImg:"explanationFallbackImg"}},A=i.output.explanation;A&&(A.innerHTML=X),k(se);const ue=["builderInput","builderlinkInput","discoveredInput","discoveredlinkInput"];for(const e of ue){const t=i.input[e];t&&(t.dataset.player="")}function ce(){var e,t;const n=document.querySelectorAll(".table .data input, .table .data textarea"),a=document.querySelectorAll(".table .data select"),i=document.getElementsByTagName("output");for(const e of Array.from(n))switch(e.type.toLowerCase()){case"checkbox":e.checked=!1;break;case"radio":const t=document.querySelectorAll('input[type="radio"]:not([checked])'),n=document.querySelectorAll('input[type="radio"][checked]');for(const e of Array.from(t))e.checked=!1;for(const e of Array.from(n))e.checked=!0;break;default:e.value=""}for(const n of Array.from(a))n.value=null==(t=null==(e=n.options)?void 0:e[0])?void 0:t.value;for(const e of Array.from(i))e.innerText="";z();for(const e in s)delete s[e];const l=document.querySelectorAll(".error");for(const e of Array.from(l))K(e.previousElementSibling);for(const e in w)delete w[e];"function"==typeof o.resetExternal&&o.resetExternal(),B(),N()}function v(e,t){var n,a,o,l;e.style.pointerEvents="none";const{innerText:u,dataset:{link:r}}=e;b.text=ee(JSON.stringify(s)),b.copy=!0,b.link=r;const c=H(e);if(c)return e.classList.remove("is-primary"),e.classList.add("is-danger"),e.innerText=c,void setTimeout((()=>{e.classList.remove("is-danger"),e.classList.add("is-primary"),e.innerText=u,e.style.pointerEvents=""}),1500);const d=(null==(l=null==(o=null==(a=null==(n=i)?void 0:n.output)?void 0:a[t])?void 0:o.innerText)?void 0:l.replaceAll("\n\n\n","\n\n"))??t;navigator.clipboard.writeText(d),b.copy=!0,b.link=r,e.innerText="¡Copiado!",setTimeout((()=>{e.innerText=u,e.style.pointerEvents=""}),1500)}function de(e){const t=i.output.fullArticle.innerText.replaceAll("\n\n\n","\n\n"),n=s.name,a=e;a.href="data:text/plain,"+encodeURIComponent(t),a.download=n+".txt"}function M(e,t=s.name){e.style.pointerEvents="none";j(e,O+"Special:EditPage/"+t)}function j(e,t){const n=H(e),a=new RegExp(`[${["#","<",">","[","]","{","|","}"].join("")}]`,"g");if(n){const t=e.innerText;e.removeAttribute("href"),e.className="button is-danger",e.innerText=n,setTimeout((()=>{e.className="button is-outlined is-primary",e.innerText=t,e.style.pointerEvents=""}),1500)}else e.href=t.replace(a," "),e.target="_blank",e.rel="noopener noreferrer",e.style.pointerEvents=""}function He(){var e;if("function"!=typeof o.redirectPage)return;const t=document.getElementById("reset"),n=["copyRedirect","createRedirect"],a=document.createElement("p");if(a.id="redirectNote",a.classList.add("has-text-centered"),a.innerText="Please create a redirect for your page!",!o.redirectPage())return n.forEach((()=>{const e=t.previousElementSibling;n.includes(e.id)&&e.remove()})),void(null==(e=document.getElementById(a.id))||e.remove());const i=document.createElement("button");i.innerText="Copy Redirect Code",i.type="button";const l=document.createElement("a");l.rel="noopener noreferrer",l.target="_blank",l.innerText="Create Redirect",S([{element:i,handler:"click",func:function(){v(this,`#REDIRECT [[${s.name}]]`)}},{element:l,handler:"click",func:function(){M(this,o.redirectPage())}}]);const u=[i,l];for(let e=0;e<u.length;e++){const a=u[e],o=n[e];if(document.getElementById(o))return;a.classList.add("button","is-outlined","is-primary"),a.id=o,a.dataset.link="redirect",t.insertAdjacentElement("beforebegin",a)}t.parentElement.insertAdjacentElement("beforebegin",a)}Y();const pe='\n<button class="button is-outlined is-primary" id="copy" type="button" data-link="page" data-evt-id="copyButton">Copiar Wikicode</button>\n<a class="button is-outlined is-primary" id="download" data-evt-id="downloadButton">Descargar código</a>\n<a class="button is-outlined is-primary" href="https://nomanssky.fandom.com/wiki/Special:Upload?multiple=true" id="uploadLink" rel="noopener noreferrer" target="_blank">Especial:Subir</a>\n<a class="button is-outlined is-primary" id="create" data-link="page" data-evt-id="createPageButton">Crear página</a>\n<button class="button is-warning" id="reset" type="reset" data-evt-id="resetButton">Restablecer entradas</button>',me=[{element:"copyButton",handler:"click",func:function(){v(this,"fullArticle")}},{element:"downloadButton",handler:"click",func:function(){de(this)}},{element:"createPageButton",handler:"click",func:function(){M(this)}},{element:"resetButton",handler:"click",func:()=>ce()}],be=x(pe,{},me),fe='<p class="has-text-centered">Primero debes copiar el código y luego pegarlo en la página wiki.<br />Además, no olvides cargar las imágenes que hayas puesto aquí.</p>',E=i.output.actions;E.innerHTML="",R(be,E,"afterbegin"),E.insertAdjacentHTML("beforebegin",fe);const ge='\n<label style="display:flex; gap: .3rem"><input class="checkbox" type="checkbox" id="skipCheck" data-evt-id="skipCheck">Habilitar depuración (sin controles, sin ventanas emergentes)</label>;\n<button style="margin: 0 1rem" class="button is-danger is-small" id="clearCache" data-evt-id="clearCache">Clear Localstorage</button>',ye=[{element:"clearCache",handler:"click",func:()=>localStorage.clear()},{element:"skipCheck",handler:"change",func:function(){const e=this.checked;d.debug=e,d.uploadShown=e,d.galleryUploadShown=e,document.documentElement.dataset.debug=e.toString(),g()}}];i.output.actions,x(ge,{},ye),Object.defineProperty(d,"debug",{configurable:!1,writable:!1,value:!1});const y=document.getElementById("skipCheck");y&&new URLSearchParams(window.location.search).has("debug")&&(y.checked=!0,P(y,"change"));const he='<h2 class="title is-5 has-text-left has-text-weight-bold mb-2">Royal Space Society \x3c!-- //NOSONAR\n\t(this is fine since this snippet is inserted somewhere else)--\x3e\n\t<output id="album" name="type"></output> <output id="albumType"></output> entry for <output id="albumHeaderName"\n\t\tname="name"></output>:\n</h2>\n<div id="albumText" class="wikiText">\n\t| {{album| file=<output name="image" id="albumImage"></output> | name=[[<output id="albumName"></output>]]\n\t| other=<output id="albumOther"></output> | glyph=<output id="albumGlyphs" name="portalglyphs"></output> |\n\t<output id="albumDiscoverer"></output>}} <output id="albumDesc"></output>\n</div>',ke='<button id="albumBtn" class="button is-outlined is-primary"\n\t   data-link="album" data-evt-id="copyButton">\n\t   Copiar el wikicódigo del album\n\t   </button>\n\t   <a class="button is-outlined is-primary" id="albumLink"\n\t   data-link="album" data-evt-id="openAlbumButton">\n\t   Abrir Album\n\t   </a>',xe=[{element:"copyButton",handler:"click",func:function(){v(this,"albumText")}},{element:"openAlbumButton",handler:"click",func:function(){ve(this)}}],Te=x(ke,{},xe);function ve(e){e.style.pointerEvents="none";const t="function"==typeof o.albumLinkGen?o.albumLinkGen():s.catalogue?s.catalogue:(console.warn("¡No se proporciona ninguna página wiki. Defina la función `albumLinkGen()` y agréguela al objeto `globalFunctions` o defina un catálogo en la propiedad `pageData.catalogue`!"),void(e.style.pointerEvents=""));t&&j(e,O+t)}function Ee(){const e="function"==typeof o.albumItemTypeExternal?o.albumItemTypeExternal():s.type;i.output.album.innerText=e}function Ie(){const e="function"==typeof o.albumDescExternal?o.albumDescExternal():"",t=i.output.albumDesc;t&&(t.innerText=e)}function Le(){const e=(()=>{if("function"==typeof o.albumDiscovererExternal)return o.albumDiscovererExternal();{const{discovered:e,discoveredlink:t}=s;return t?`wiki=${t}`:`discoverer=${e}`}})(),t=i.output.albumDiscoverer;t&&(t.innerText=e)}function we(){const e="function"==typeof o.albumNameExternal?o.albumNameExternal():s.name;i.output.albumName.innerText=e}function De(){const e="function"==typeof o.albumOtherExternal?o.albumOtherExternal():"",t=i.output.albumOther;t&&(t.innerText=e)}function Ae(){const e="function"==typeof o.albumTypeExternal?o.albumTypeExternal():"";i.output.albumType.innerText=e}function Ce(){const e={albumHeaderName:"name",albumImage:"image",albumGlyphs:"portalglyphs"};for(const t in e){i.output[t].innerText=s[e[t]]}}function Oe(){function e(){Ce(),Le(),we(),De(),Ae(),Ee(),Ie()}s.albumInitialised?e():document.addEventListener("albumLoaded",(()=>e()))}const Se={output:{album:"album",albumType:"albumType",albumHeaderName:"albumHeaderName",albumImage:"albumImage",albumName:"albumName",albumOther:"albumOther",albumGlyphs:"albumGlyphs",albumDiscoverer:"albumDiscoverer",albumText:"albumText",albumDesc:"albumDesc"}},C=i.output.albumEntry,h=i.output.albumActions;if(C instanceof HTMLDivElement&&(C.innerHTML=he),h instanceof HTMLDivElement){R(Te,h,"afterbegin"),k(Se),document.dispatchEvent(new Event("albumLoaded")),T("albumInitialised",!0);const e='<p style="width:100%" class="has-text-centered mb-3">¡No olvides crear una entrada de álbum!</p>';h.insertAdjacentHTML("afterbegin",e)}te(i.output.portalglyphButtons,"portalglyphsInput");const Be=ne();T("pageType",Be),ae(),B(),oe(),d.uploadShown=!0,d.galleryUploadShown=!0,N(),d.debug||(d.uploadShown=!1,d.galleryUploadShown=!1),g();const F=i.output.output;F.onmousedown=()=>ie();for(const e of Array.from(F.children)){const t=e;t.onmouseup=e=>D(e.target),t.ontouchend=e=>D(e.target)}re();try{P(i.input.portalglyphsInput,"input")}catch{}T("eventListeners",!0);export{we as a,De as b,Le as c,Oe as d,v as e,ve as f,Te as g,Ie as h,Ee as i,He as t};
