import{l as z,r as I,s as N,p as W}from"./primevue-B8OBORDc.js";import{_ as j}from"./FileUploadNotice.vue_vue_type_script_setup_true_lang-C3QSY-l6.js";import{_,d as A,b as F}from"./main-Cl4KDWUs.js";import{h as D}from"./html2canvas-DyqYn1B1.js";import{r as L}from"./inputValidation-BfiqxGfe.js";import{d as T}from"./debounce-B7UkYTDg.js";import{Y as $,r as t,o as B,_ as M,v as K,c as k,b as d,J as U,L as p,K as v,d as a,O as i,x as u,M as S,F as w,E as G,Q as J}from"./@vue-a971EMsi.js";import{w as O}from"./@vueuse-WjXJKVhx.js";import"./@primevue-DHo6Bl5a.js";import"./@primeuix-DcC4a19q.js";import"./pinia-DP1x6KiP.js";import"./parse-mediawiki-template-BV5n0XSg.js";import"./vue-toastification-BPeKAQMF.js";const Z="/RSSWikiPageCreator/assets/images/friends/marco.png",q={class:"upload-section"},Q={class:"columns is-mobile mb-0"},Y={class:"column is-flex"},H={class:"columns is-mobile mb-0"},X={class:"column is-flex"},ee={class:"rss-card-wrapper"},ae=["src"],le={class:"card-image-container"},se=["src"],oe={class:"card-race-icon-field"},te=["src"],ne=$({__name:"RSSFriends",setup(e){const l=t(""),s=t(""),o=t(""),n=t(""),r=t(""),c=t(""),m=t([{label:"Korvax",value:"Korvax",icon:"/RSSWikiPageCreator/assets/images/friends/holo-korvax.png"},{label:"Gek",value:"Gek",icon:"/RSSWikiPageCreator/assets/images/friends/holo-gek.png"},{label:"Vy'keen",value:"Vy'keen",icon:"/RSSWikiPageCreator/assets/images/friends/holo-vykeen.png"},{label:"Anomalía",value:"Anomalía",icon:"/RSSWikiPageCreator/assets/images/friends/holo-anomalia.png"},{label:"Autofago",value:"Autofago",icon:"/RSSWikiPageCreator/assets/images/friends/holo-autofago.png"},{label:"Viajero",value:"Viajero",icon:"/RSSWikiPageCreator/assets/images/friends/holo-viajero.png"}]),g=a=>{const e=a.files[0];if(e){const a=new FileReader;a.onload=a=>{var e;r.value=null==(e=a.target)?void 0:e.result},a.readAsDataURL(e)}},f=t(window.innerWidth);let b=null;const x=()=>{const a=window.innerWidth;Math.abs(a-f.value)>50&&(b&&clearTimeout(b),b=setTimeout((()=>{f.value=a}),500))};B((()=>{window.addEventListener("resize",x)})),M((()=>{window.removeEventListener("resize",x)}));const h=()=>{const a=m.value.find((a=>a.value===s.value));o.value=a?a.icon:""},R=async()=>{const a=document.querySelector(".rss-card-wrapper");if(!a)return;const e=(await D(a,{useCORS:!0,backgroundColor:null,scale:2})).toDataURL("image/png"),l=document.createElement("a");l.href=e,l.download="tarjeta.png",document.body.appendChild(l),l.click(),document.body.removeChild(l)};K((()=>n.value=n.value.toUpperCase()));const C=t(!0);return O(n,(a=>{const e=new RegExp(/(?:[0-9A-Za-z]{4}-){2}[0-9A-Za-z]{5}/),l=L(a,e);C.value=!a||l}),{debounce:T}),(e,t)=>(d(),k(J,null,[f.value>768?(d(),U(u(W),{key:0,class:"rss-card-container"},{content:v((()=>[a("div",q,[a("div",Q,[t[4]||(t[4]=a("div",{class:"column is-flex is-align-items-center"},[a("label",null,"¿En blanco?")],-1)),a("div",Y,[i(u(z),{modelValue:c.value,"onUpdate:modelValue":t[0]||(t[0]=a=>c.value=a),"true-value":"true","false-value":"",class:"input-text",style:{width:"185px",left:"-12px"},binary:""},null,8,["modelValue"])])]),i(_,{modelValue:l.value,"onUpdate:modelValue":t[1]||(t[1]=a=>l.value=a),placeholder:"Nombre",class:"input-text",label:"Nombre del jugador"},null,8,["modelValue"]),a("div",H,[t[5]||(t[5]=a("div",{class:"column is-flex is-align-items-center"},[a("label",null,"Raza del Jugador")],-1)),a("div",X,[i(A,{modelValue:s.value,"onUpdate:modelValue":[t[2]||(t[2]=a=>s.value=a),h],options:m.value.map((a=>a.value)),class:"input-text",style:{width:"185px",left:"-12px"}},null,8,["modelValue","options"])])]),i(_,{modelValue:n.value,"onUpdate:modelValue":t[3]||(t[3]=a=>n.value=a),placeholder:"Código de amigo",class:"input-text",label:"Código de amigo",invalid:!C.value,"error-message":"Formato de código de amigo incorrecto"},null,8,["modelValue","invalid"]),t[6]||(t[6]=a("br",null,null,-1)),i(u(I),{mode:"basic",name:"navImage",auto:!0,customUpload:!0,onUploader:g,accept:"image/*",chooseLabel:"Subir imagen"},{content:v((()=>[i(j)])),_:1})]),t[11]||(t[11]=a("br",null,null,-1)),a("div",ee,[a("img",{class:"rss-card-background",src:c.value?"/RSSWikiPageCreator/assets/images/friends/friend-white.png":"/RSSWikiPageCreator/assets/images/friends/friend.png",alt:"Tarjeta RSS"},null,8,ae),a("div",le,[r.value?(d(),k("img",{key:0,src:r.value,alt:"Imagen subida",class:"uploaded-image"},null,8,se)):p("",!0)]),t[7]||(t[7]=a("div",{class:"card-name-title"}," Nombre ",-1)),t[8]||(t[8]=a("div",{class:"card-race-title"}," Raza ",-1)),t[9]||(t[9]=a("img",{class:"card-image-marco",src:Z,alt:"Tarjeta RSS"},null,-1)),a("div",{class:S(["card-name-field",{"text-black":c.value,"text-white":!c.value}])},w(l.value),3),a("div",{class:S(["card-race-field",{"text-black":c.value,"text-white":!c.value}])},w(s.value),3),a("div",{class:S(["card-friend-code-field",{"text-black":c.value,"text-white":!c.value}])},w(n.value),3),a("div",oe,[o.value?(d(),k("img",{key:0,src:o.value,alt:"Icono de raza",class:"race-icon"},null,8,te)):p("",!0)])]),t[12]||(t[12]=a("br",null,null,-1)),i(u(N),{onClick:R,class:"download-button"},{default:v((()=>t[10]||(t[10]=[G("Descargar Carta")]))),_:1}),t[13]||(t[13]=a("br",null,null,-1)),t[14]||(t[14]=a("br",null,null,-1)),t[15]||(t[15]=a("br",null,null,-1)),t[16]||(t[16]=a("h2",null,[a("i",null,"Imágenes creadas por paux1926.")],-1))])),_:1})):p("",!0),f.value<=768?(d(),U(u(W),{key:1,class:"rss-card-container"},{content:v((()=>t[17]||(t[17]=[a("h1",null,"Esta página solo está disponible en pantallas de escritorio.",-1)]))),_:1})):p("",!0)],64))}}),Re=F(ne,[["__scopeId","data-v-f075152a"]]);export{Re as default};
