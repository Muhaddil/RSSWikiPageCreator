import{ar as B,bp as a,b$ as I,bh as i,ag as m,ah as t,bs as d,ae as S,b2 as k,af as $,a2 as j,Z as F,a$ as L}from"./links-BQViK150.js";const H="/RSSWikiPageCreator/assets/icons/help.svg",T=["aria-disabled"],W={class:"tooltiptext nms-font"},M={id:"explanationHeading",class:"explanationHeading title is-4"},N={id:"explanationContent",class:"explanationContent nms-font"},V=["href"],z=["srcset"],P=["src"],Z=B({__name:"Explanation",props:{img:{},open:{type:Boolean}},emits:["update:open"],setup(e,{emit:l}){var n;const s=e,o=a(null),r=a(null),p=a(null),u=(null==(n=s.img)?void 0:n.trim())??"",c=a("0 -100vh"),g=a(""),v=a(0),b=a(0),f=a(!1),x=a(!1),y=l;function h(){c.value="0 -100vh",g.value||(g.value=u),f.value||(f.value=!0),y("update:open",!0),L((()=>{o.value&&(o.value.showModal(),c.value="0 0",o.value.scrollTo(0,0))}))}function _(){b.value=1,v.value=1}return I((()=>{s.open&&h()})),(a,e)=>(i(),m(F,null,[t("button",{"aria-disabled":!a.$slots.content||void 0,class:"tooltip",onClick:e[0]||(e[0]=e=>a.$slots.content&&h())},[e[4]||(e[4]=t("img",{src:H,alt:"Help"},null,-1)),t("p",W,[d(a.$slots,"default")])],8,T),(i(),S(j,{to:"body"},[f.value?(i(),m("dialog",{key:0,style:k({translate:c.value}),class:"explanation modal-content content",ref_key:"dialogElement",ref:o,onClose:e[3]||(e[3]=e=>a.$emit("update:open",!1))},[t("h2",M,[d(a.$slots,"heading")]),t("div",N,[d(a.$slots,"content")]),g.value&&!x.value?(i(),m("a",{key:0,href:`./assets/images/jpg/${g.value}.jpg`,class:"explanationLink loading",id:"explanationLink",ref_key:"linkElement",ref:p,rel:"noopener noreferrer",target:"_blank"},[t("picture",null,[t("source",{srcset:`./assets/images/webp/${g.value}.webp`,class:"explanationWebpImg",id:"explanationWebpImg",type:"image/webp"},null,8,z),t("img",{src:`./assets/images/jpg/${g.value}.jpg`,style:k({opacity:v.value,"margin-block-start":b.value+"rem"}),alt:"Explainer Image",class:"explanationFallbackImg",id:"explanationFallbackImg",ref_key:"imgElement",ref:r,onLoadstart:e[1]||(e[1]=a=>x.value=!1),onLoad:_,onError:e[2]||(e[2]=a=>x.value=!0)},null,44,P)])],8,V)):$("",!0),e[5]||(e[5]=t("form",{method:"dialog"},[t("button",{class:"button",type:"submit",autofocus:""}," Cerrar ")],-1))],36)):$("",!0)]))],64))}});export{Z as _};
