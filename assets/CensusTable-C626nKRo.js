"use strict";import{_ as E}from"./logo-white-CwkOOWqZ.js";import{s as _}from"./index-DkI1DTX1.js";import{s as d}from"./index-BnYWT3Gl.js";import{s as x}from"./index-WFHMUFPZ.js";import{f as I,a as V}from"./api-vPU2WsH5.js";import{d as $,r as u,c as L,x as U,j as k,o as t,k as c,b as a,f as n,a as p,h as s,V as j,g as m,t as r,B,F as P,J as z,e as S,p as D}from"./main-Bl-YndUP.js";import"./index-C6JZrY8M.js";const F={class:"space-page-container"},J={class:"filter-container mb-4 flex items-center"},T={class:"panel-content"},W={class:"security-level mt-2"},A={class:"update-info"},M={key:0,class:"loading-message"},q={key:1,class:"error-message p-error"},G={class:"p-4 base-content"},H={class:"flex flex-column gap-3"},K={class:"flex align-items-center gap-2"},O={class:"base-title"},Q={class:"base-details"},X={class:"detail-item"},Y={class:"detail-value"},Z={class:"detail-item"},aa={class:"detail-value"},ea={class:"flex gap-2"},la={class:"panel-content-with-image"},sa=["href"],ta=["src","onClick"],ia="Royal Space Society",na=$({__name:"CensusTable",setup(ra){const o=u([]),f=u(!0),v=u(null),b=u(window.innerWidth),g=u(""),C=L(()=>b.value<768?1:b.value<1200?2:3),h=async(i=0,e)=>{try{const l=await I(ia,i,e);await Promise.all(l.map(async y=>{y.imageUrl=await V(y._pageName)})),o.value=[...o.value,...l],l.length===500&&await h(i+500,e)}catch(l){v.value="Error al cargar las bases",console.error(l)}finally{f.value=!1}},R=async()=>{o.value=[],f.value=!0,v.value=null,await h(0,g.value)};U(async()=>{window.addEventListener("resize",()=>b.value=window.innerWidth),await h(0,g.value)});const w=i=>i.trim().replace(/\s+/g,"_").replace(/\//g,"_"),N=i=>{window.open(i,"_blank")};return(i,e)=>(t(),k(s(_),{class:"p-0 galactic-card"},{content:c(()=>[a("div",F,[e[11]||(e[11]=a("div",{class:"flex items-start justify-between mb-6 header-container"},[a("div",{class:"flex flex-col"},[a("a",{href:"https://nomanssky.fandom.com/es/wiki/Royal_Space_Society",target:"_blank"},[a("div",{class:"rss-logo"},[a("img",{src:E,class:"logo-image",alt:"RSS Logo"})])]),a("div",{class:"header-container"},[a("div",{class:"title-theme-container"},[a("h1",{class:"galactic-title"},[a("span",{class:"title-text"},"Censo de Bases - Royal Space Society")])])]),a("p",{class:"text-stellar-gray mt-2"},"Explora las bases espaciales de la Royal Space Society")])],-1)),a("div",J,[e[1]||(e[1]=a("label",{for:"yearInput",class:"mr-2"},"Selecciona el a\xF1o del censo:",-1)),n(s(j),{id:"yearInput",type:"number",modelValue:g.value,"onUpdate:modelValue":e[0]||(e[0]=l=>g.value=l),placeholder:"Ej. 2023",class:"p-inputtext"},null,8,["modelValue"]),a("button",{onClick:R,class:"p-button p-component ml-2"}," Filtrar ")]),n(s(x),{class:"galactic-panel mt-6"},{header:c(()=>e[2]||(e[2]=[a("h2",{class:"panel-title"},"Informaci\xF3n del Censo",-1)])),default:c(()=>[a("div",T,[a("p",null,[e[3]||(e[3]=m(" Total de bases registradas: ")),a("strong",null,r(o.value.length),1)]),a("p",W,[e[4]||(e[4]=m(" Nivel de seguridad: ")),n(s(d),{value:"Clasificado RSS",severity:"info",class:"category-tag"})]),a("p",A,"\xDAltima actualizaci\xF3n: "+r(new Date().toLocaleDateString()),1)])]),_:1}),e[12]||(e[12]=a("br",null,null,-1)),f.value?(t(),p("div",M,e[5]||(e[5]=[a("i",{class:"pi pi-spinner pi-spin"},null,-1),m(" Cargando bases espaciales... ")]))):v.value?(t(),p("div",q,[e[6]||(e[6]=a("i",{class:"pi pi-exclamation-triangle"},null,-1)),m(" "+r(v.value),1)])):(t(),p("div",{key:2,class:"grid gap-4",style:B(`grid-template-columns: repeat(${C.value}, 1fr)`)},[(t(!0),p(P,null,z(o.value,(l,y)=>(t(),k(s(_),{key:y,class:"link-card"},{content:c(()=>[a("div",G,[a("div",H,[a("div",K,[a("h3",O,r(l.Name),1),n(s(d),{value:l.Platform,severity:"info",class:"category-tag"},null,8,["value"])]),a("div",Q,[a("div",X,[e[7]||(e[7]=a("span",{class:"detail-label"},"Jugador:",-1)),a("span",Y,r(l.CensusPlayer),1)]),a("div",Z,[e[8]||(e[8]=a("span",{class:"detail-label"},"Sistema:",-1)),a("span",aa,r(l.System),1)]),a("div",ea,[n(s(d),{value:l.Mode,severity:"success",class:"category-tag"},null,8,["value"]),n(s(d),{value:`Llegada: ${l.CensusArrival}`,severity:"warning",class:"category-tag"},null,8,["value"]),n(s(d),{value:`Renovaci\xF3n: ${l.CensusRenewal}`,severity:"danger",class:"category-tag"},null,8,["value"])])]),l.Name?(t(),k(s(x),{key:0,class:"builder-panel mt-3"},{header:c(()=>e[9]||(e[9]=[a("span",{class:"builder-link-header"},"Enlaces de la Base",-1)])),default:c(()=>[a("div",la,[a("a",{href:`https://nomanssky.fandom.com/wiki/${w(l._pageName)}`,target:"_blank",class:"builder-link"},e[10]||(e[10]=[a("i",{class:"pi pi-external-link"},null,-1),m(" Ver detalles de construcci\xF3n ")]),8,sa),l.imageUrl?(t(),p("img",{key:0,src:l.imageUrl.panel,alt:"Imagen de la base",class:"panel-base-image",onClick:oa=>N(`https://nomanssky.fandom.com/wiki/${w(l._pageName)}`)},null,8,ta)):S("",!0)])]),_:2},1024)):S("",!0)])])]),_:2},1024))),128))],4))])]),_:1}))}}),ca=D(na,[["__scopeId","data-v-e5971e2c"]]);export{ca as default};
