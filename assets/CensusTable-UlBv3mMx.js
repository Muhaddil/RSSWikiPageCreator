import{_ as I}from"./logo-white-CwkOOWqZ.js";import{s as x}from"./index-CfaTqabV.js";import{s as d}from"./index-BZeyvkUj.js";import{s as C}from"./index-j2ji1kaQ.js";import{f as V,a as $}from"./api-vPU2WsH5.js";import{d as L,r as u,c as R,x as E,j as w,o as l,k as o,b as e,f as i,a as p,h as t,V as T,g as m,t as r,B as U,F as D,J as W,e as S,p as j}from"./main-CUdmV-Wl.js";import"./index-BSGj8d_z.js";const z={class:"space-page-container"},F={class:"filter-container mb-4 flex items-center"},M={class:"panel-content"},P={class:"security-level mt-2"},A={class:"update-info"},J={key:0,class:"loading-message"},O={key:1,class:"error-message p-error"},Y={class:"p-4 base-content"},Z={class:"flex flex-column gap-3"},q={class:"flex align-items-center gap-2"},G={class:"base-title"},H={class:"base-details"},K={class:"detail-item"},Q={class:"detail-value"},X={class:"detail-item"},ee={class:"detail-value"},ae={class:"flex gap-2"},se={class:"panel-content-with-image"},te=["href"],le=["src","onClick"],ne="Royal Space Society",ie=L({__name:"CensusTable",setup(a){const s=u([]),n=u(!0),c=u(null),v=u(window.innerWidth),g=u(""),y=R((()=>v.value<768?1:v.value<1200?2:3)),f=async(e=0,a)=>{try{const l=await V(ne,e,a);await Promise.all(l.map((async e=>{e.imageUrl=await $(e._pageName)}))),s.value=[...s.value,...l],500===l.length&&await f(e+500,a)}catch(e){c.value="Error al cargar las bases",console.error(e)}finally{n.value=!1}},b=async()=>{s.value=[],n.value=!0,c.value=null,await f(0,g.value)};E((async()=>{window.addEventListener("resize",(()=>v.value=window.innerWidth)),await f(0,g.value)}));const k=e=>e.trim().replace(/\s+/g,"_").replace(/\//g,"_");return(a,u)=>(l(),w(t(x),{class:"p-0 galactic-card"},{content:o((()=>[e("div",z,[u[11]||(u[11]=e("div",{class:"flex items-start justify-between mb-6 header-container"},[e("div",{class:"flex flex-col"},[e("a",{href:"https://nomanssky.fandom.com/es/wiki/Royal_Space_Society",target:"_blank"},[e("div",{class:"rss-logo"},[e("img",{src:I,class:"logo-image",alt:"RSS Logo"})])]),e("div",{class:"header-container"},[e("div",{class:"title-theme-container"},[e("h1",{class:"galactic-title"},[e("span",{class:"title-text"},"Censo de Bases - Royal Space Society")])])]),e("p",{class:"text-stellar-gray mt-2"},"Explora las bases espaciales de la Royal Space Society")])],-1)),e("div",F,[u[1]||(u[1]=e("label",{for:"yearInput",class:"mr-2"},"Selecciona el año del censo:",-1)),i(t(T),{id:"yearInput",type:"number",modelValue:g.value,"onUpdate:modelValue":u[0]||(u[0]=e=>g.value=e),placeholder:"Ej. 2023",class:"p-inputtext"},null,8,["modelValue"]),e("button",{onClick:b,class:"p-button p-component ml-2"}," Filtrar ")]),i(t(C),{class:"galactic-panel mt-6"},{header:o((()=>u[2]||(u[2]=[e("h2",{class:"panel-title"},"Información del Censo",-1)]))),default:o((()=>[e("div",M,[e("p",null,[u[3]||(u[3]=m(" Total de bases registradas: ")),e("strong",null,r(s.value.length),1)]),e("p",P,[u[4]||(u[4]=m(" Nivel de seguridad: ")),i(t(d),{value:"Clasificado RSS",severity:"info",class:"category-tag"})]),e("p",A,"Última actualización: "+r((new Date).toLocaleDateString()),1)])])),_:1}),u[12]||(u[12]=e("br",null,null,-1)),n.value?(l(),p("div",J,u[5]||(u[5]=[e("i",{class:"pi pi-spinner pi-spin"},null,-1),m(" Cargando bases espaciales... ")]))):c.value?(l(),p("div",O,[u[6]||(u[6]=e("i",{class:"pi pi-exclamation-triangle"},null,-1)),m(" "+r(c.value),1)])):(l(),p("div",{key:2,class:"grid gap-4",style:U(`grid-template-columns: repeat(${y.value}, 1fr)`)},[(l(!0),p(D,null,W(s.value,((a,s)=>(l(),w(t(x),{key:s,class:"link-card"},{content:o((()=>[e("div",Y,[e("div",Z,[e("div",q,[e("h3",G,r(a.Name),1),i(t(d),{value:a.Platform,severity:"info",class:"category-tag"},null,8,["value"])]),e("div",H,[e("div",K,[u[7]||(u[7]=e("span",{class:"detail-label"},"Jugador:",-1)),e("span",Q,r(a.CensusPlayer),1)]),e("div",X,[u[8]||(u[8]=e("span",{class:"detail-label"},"Sistema:",-1)),e("span",ee,r(a.System),1)]),e("div",ae,[i(t(d),{value:a.Mode,severity:"success",class:"category-tag"},null,8,["value"]),i(t(d),{value:`Llegada: ${a.CensusArrival}`,severity:"warning",class:"category-tag"},null,8,["value"]),i(t(d),{value:`Renovación: ${a.CensusRenewal}`,severity:"danger",class:"category-tag"},null,8,["value"])])]),a.Name?(l(),w(t(C),{key:0,class:"builder-panel mt-3"},{header:o((()=>u[9]||(u[9]=[e("span",{class:"builder-link-header"},"Enlaces de la Base",-1)]))),default:o((()=>[e("div",se,[e("a",{href:`https://nomanssky.fandom.com/wiki/${k(a._pageName)}`,target:"_blank",class:"builder-link"},u[10]||(u[10]=[e("i",{class:"pi pi-external-link"},null,-1),m(" Ver detalles de construcción ")]),8,te),a.imageUrl?(l(),p("img",{key:0,src:a.imageUrl.panel,alt:"Imagen de la base",class:"panel-base-image",onClick:e=>(e=>{window.open(e,"_blank")})(`https://nomanssky.fandom.com/wiki/${k(a._pageName)}`)},null,8,le)):S("",!0)])])),_:2},1024)):S("",!0)])])])),_:2},1024)))),128))],4))])])),_:1}))}}),fe=j(ie,[["__scopeId","data-v-e5971e2c"]]);export{fe as default};