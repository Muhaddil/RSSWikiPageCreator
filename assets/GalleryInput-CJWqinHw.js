import{A as e,At as t,C as n,D as r,Dt as i,E as a,G as o,P as s,T as c,V as l,W as u,Y as d,Z as f,_ as p,b as m,c as h,ct as g,et as _,f as ee,h as v,j as y,k as b,l as x,m as S,nt as C,o as w,ot as T,r as E,s as D,u as O,v as k,w as te,z as ne}from"./runtime-core.esm-bundler-CNadvJx8.js";import{o as re}from"./runtime-dom.esm-bundler-rkPjeQEv.js";import{c as ie,l as ae,t as oe}from"./button-D1ppH4Ef.js";import{a as se,i as ce,r as le,u as ue}from"./core-DwCp9VXr.js";import{a as de,f as fe,i as pe,o as me,p as he,s as ge}from"./SanitisedTextInput-D46TkLEC.js";import{t as _e}from"./inputtext-CKVrimjR.js";import{t as ve}from"./dialog-Cbplccpf.js";import{t as ye}from"./_plugin-vue_export-helper-DyZRSbhD.js";import{n as be}from"./WikiLink-CwFL9YLd.js";import{n as xe}from"./SelectDropdown-B3rsxhLw.js";import{n as Se}from"./FileUploadNotice-D9iZS-aw.js";import{t as Ce}from"./debounce-BYgzmLt8.js";import{t as we}from"./panel-BwPhW7dk.js";const Te=`Royal Space Society`;var Ee=p({__name:`GalleryOutput`,props:{fileList:{}},setup(n){let r=ge(),{galleryFiles:i}=fe(r);return(r,a)=>(b(),O(E,null,[a[0]||=D(`div`,null,`<gallery>`,-1),(b(!0),O(E,null,e(n.fileList??g(i),e=>(b(),O(`div`,{key:e.id},t(e.file.name)+t(e.desc?`|`:``)+t(e.desc),1))),128)),a[1]||=D(`div`,null,`</gallery>`,-1)],64))}});const De=1e7;var Oe=ae.extend({name:`inputgroup`,style:`
    .p-inputgroup,
    .p-inputgroup .p-iconfield,
    .p-inputgroup .p-floatlabel,
    .p-inputgroup .p-iftalabel {
        display: flex;
        align-items: stretch;
        width: 100%;
    }

    .p-inputgroup .p-inputtext,
    .p-inputgroup .p-inputwrapper {
        flex: 1 1 auto;
        width: 1%;
    }

    .p-inputgroupaddon {
        display: flex;
        align-items: center;
        justify-content: center;
        padding: dt('inputgroup.addon.padding');
        background: dt('inputgroup.addon.background');
        color: dt('inputgroup.addon.color');
        border-block-start: 1px solid dt('inputgroup.addon.border.color');
        border-block-end: 1px solid dt('inputgroup.addon.border.color');
        min-width: dt('inputgroup.addon.min.width');
    }

    .p-inputgroupaddon:first-child,
    .p-inputgroupaddon + .p-inputgroupaddon {
        border-inline-start: 1px solid dt('inputgroup.addon.border.color');
    }

    .p-inputgroupaddon:last-child {
        border-inline-end: 1px solid dt('inputgroup.addon.border.color');
    }

    .p-inputgroupaddon:has(.p-button) {
        padding: 0;
        overflow: hidden;
    }

    .p-inputgroupaddon .p-button {
        border-radius: 0;
    }

    .p-inputgroup > .p-component,
    .p-inputgroup > .p-inputwrapper > .p-component,
    .p-inputgroup > .p-iconfield > .p-component,
    .p-inputgroup > .p-floatlabel > .p-component,
    .p-inputgroup > .p-floatlabel > .p-inputwrapper > .p-component,
    .p-inputgroup > .p-iftalabel > .p-component,
    .p-inputgroup > .p-iftalabel > .p-inputwrapper > .p-component {
        border-radius: 0;
        margin: 0;
    }

    .p-inputgroupaddon:first-child,
    .p-inputgroup > .p-component:first-child,
    .p-inputgroup > .p-inputwrapper:first-child > .p-component,
    .p-inputgroup > .p-iconfield:first-child > .p-component,
    .p-inputgroup > .p-floatlabel:first-child > .p-component,
    .p-inputgroup > .p-floatlabel:first-child > .p-inputwrapper > .p-component,
    .p-inputgroup > .p-iftalabel:first-child > .p-component,
    .p-inputgroup > .p-iftalabel:first-child > .p-inputwrapper > .p-component {
        border-start-start-radius: dt('inputgroup.addon.border.radius');
        border-end-start-radius: dt('inputgroup.addon.border.radius');
    }

    .p-inputgroupaddon:last-child,
    .p-inputgroup > .p-component:last-child,
    .p-inputgroup > .p-inputwrapper:last-child > .p-component,
    .p-inputgroup > .p-iconfield:last-child > .p-component,
    .p-inputgroup > .p-floatlabel:last-child > .p-component,
    .p-inputgroup > .p-floatlabel:last-child > .p-inputwrapper > .p-component,
    .p-inputgroup > .p-iftalabel:last-child > .p-component,
    .p-inputgroup > .p-iftalabel:last-child > .p-inputwrapper > .p-component {
        border-start-end-radius: dt('inputgroup.addon.border.radius');
        border-end-end-radius: dt('inputgroup.addon.border.radius');
    }

    .p-inputgroup .p-component:focus,
    .p-inputgroup .p-component.p-focus,
    .p-inputgroup .p-inputwrapper-focus,
    .p-inputgroup .p-component:focus ~ label,
    .p-inputgroup .p-component.p-focus ~ label,
    .p-inputgroup .p-inputwrapper-focus ~ label {
        z-index: 1;
    }

    .p-inputgroup > .p-button:not(.p-button-icon-only) {
        width: auto;
    }

    .p-inputgroup .p-iconfield + .p-iconfield .p-inputtext {
        border-inline-start: 0;
    }
`,classes:{root:`p-inputgroup`}}),ke={name:`InputGroup`,extends:{name:`BaseInputGroup`,extends:ie,style:Oe,provide:function(){return{$pcInputGroup:this,$parentInstance:this}}},inheritAttrs:!1};function Ae(e,t,n,r,i,a){return b(),O(`div`,te({class:e.cx(`root`)},e.ptmi(`root`)),[y(e.$slots,`default`)],16)}ke.render=Ae;var je=[`href`],Me=p({__name:`WikiLink`,props:{link:{},text:{}},setup(e){let n=e,r=w(()=>`https://nomanssky.fandom.com/wiki/`+n.link);return(n,i)=>(b(),O(`a`,{href:r.value,rel:`noopener noreferrer`,target:`_blank`},t(e.text),9,je))}}),Ne={class:`is-flex is-justify-content-space-between is-align-items-center full-width`},Pe=[`for`],Fe=200,Ie=ye(p({__name:`SingleFileUpload`,props:n({label:{},tooltip:{},helpImg:{},helpTitle:{}},{modelValue:{required:!0},modelModifiers:{}}),emits:[`update:modelValue`],setup(e){let n=ne(e,`modelValue`),r=C(!1),a=C(!1),o=C(!0),c=w(()=>a.value||!o.value);se(document,`reset`,()=>a.value=!1),ue(n,e=>o.value=!e||e.includes(`.`),{debounce:500});let l=C(localStorage.getItem(`hasSeenInfoModal`)===`true`);function d(e){let t=e.files[0];t instanceof File&&(l.value||(r.value=!0,l.value=!0,localStorage.setItem(`hasSeenInfoModal`,`true`)),f([t]))}function f(e){let t=e?.[0];if(!t)return;let r=t.size>De;a.value=r,!r&&(n.value=t.name)}let p=de(`file-upload-`),m=C(null),_=C(null),T=C(),{isOverDropZone:E}=le(m,{onDrop:f,dataTypes:e=>e.every(e=>e.startsWith(`image/`)),multiple:!1,preventDefaultForUnhandled:!0}),{height:k}=ce(T),te=w(()=>k.value/2),{width:re}=ce(_),ie=w(()=>re.value<=Fe);return(l,f)=>(b(),O(`div`,{ref_key:`dropzone`,ref:m},[v(pe,null,{label:u(()=>[D(`div`,Ne,[D(`label`,{for:g(p)},t(e.label),9,Pe),e.tooltip?(b(),h(he,{key:0,"help-img":e.helpImg,"help-title":e.helpTitle,tooltip:e.tooltip},{default:u(()=>[y(l.$slots,`default`,{},void 0,!0)]),_:3},8,[`help-img`,`help-title`,`tooltip`])):x(``,!0)])]),input:u(()=>[D(`div`,{ref_key:`inputWrapper`,ref:_},[v(g(ve),{visible:r.value,"onUpdate:visible":f[0]||=e=>r.value=e,modal:``,header:`Atención`,closable:!0},{default:u(()=>[D(`span`,null,[f[2]||=S(` No olvides subir tu foto a la wiki en `,-1),v(Me,{link:`Special:Upload?multiple=true`,text:`Especial:Subir`}),f[3]||=S(`. El botón de carga solo completa automáticamente el nombre de la imagen en el código, no se carga automáticamente en la wiki. `,-1)]),f[4]||=D(`div`,{class:`mt-3`},[D(`span`,{class:`has-text-weight-bold`},`NOTA`),S(`: Puede acceder a esta ventana emergente en cualquier momento haciendo clic en "?" junto al botón de carga de la imagen principal. `)],-1)]),_:1},8,[`visible`]),v(me,{invalid:c.value,top:`${te.value}px`,"move-left":ie.value?void 0:`5.5rem`},ee({default:u(()=>[(b(),h(s(ie.value?`div`:g(ke)),{class:i({"is-flex is-flex-direction-column is-gap-1":ie.value})},{default:u(()=>[v(g(_e),{modelValue:n.value,"onUpdate:modelValue":f[1]||=e=>n.value=e,id:g(p),invalid:c.value,ref_key:`textInput`,ref:T,size:`small`},null,8,[`modelValue`,`id`,`invalid`]),v(g(Se),{class:i([{"p-button-outlined":!g(E)},`p-button-sm upload-button`]),accept:`image/*`,mode:`basic`,auto:``,"custom-upload":``,chooseLabel:`Elegir`,onSelect:d},null,8,[`class`])]),_:1},8,[`class`]))]),_:2},[a.value?{name:`errorMessage`,fn:u(()=>[f[5]||=S(` Este archivo es demasiado grande para subirlo a la wiki. El tamaño máximo es de 10 MB. Comprime tu archivo aquí: `,-1),v(be,{link:`https://nmscd.com/Image-Compressor/`,text:`Compresor de imágenes`})]),key:`0`}:o.value?void 0:{name:`errorMessage`,fn:u(()=>[f[6]||=S(`¡El archivo no tiene extensión de archivo (es decir, .jpg, .png)!`,-1)]),key:`1`}]),1032,[`invalid`,`top`,`move-left`])],512)]),_:3})],512))}}),[[`__scopeId`,`data-v-6ab78c51`]]),Le={class:`gallery-wrapper is-flex full-width`},Re=[`href`],ze=[`alt`,`src`],Be={class:`input-section is-flex is-flex-direction-column is-flex-grow-1 is-gap-1 p-2`},Ve={style:{"word-break":`break-all`}},He={class:`is-flex is-flex-direction-column is-justify-content-space-between is-align-items-center is-gap-1 p-2 ml-auto`},Ue={class:`handle pi pi-arrows-v`,title:`Mover la imagen hacia arriba o hacia abajo`,draggable:`true`},We={class:`button-wrapper is-flex-direction-column is-gap-1`},Ge=p({__name:`GalleryItem`,props:{fileItem:{},isLocationFile:{type:Boolean}},setup(n){let r=n,i=ge(),{galleryFiles:a,locationFiles:s,galleryDescriptions:c}=fe(i),l=URL.createObjectURL(r.fileItem.file);function d(e){a.value=a.value.filter(t=>t!==e),s.value=s.value.filter(t=>t!==e)}function f(e,t){let n=a.value.indexOf(e),r=s.value.indexOf(e),i=(()=>{if(n!==-1)return a;if(r!==-1)return s;throw Error(`Couldn't find item!`)})(),o=i.value.indexOf(e);if(t===`up`&&o)i.value.splice(o-1,0,e),i.value.splice(o+1,1);else if(t===`down`&&o!==i.value.length-1){let t=i.value.filter(t=>t!==e);t.splice(o+1,0,e),i.value=t}}let p=[`up`,`down`];return(r,i)=>(b(),h(g(we),{class:`gallery-item`},{default:u(()=>[D(`div`,Le,[D(`a`,{class:`gallery-media is-flex is-unselectable is-justify-content-center`,href:g(l),target:`_blank`,rel:`noopener noreferrer`},[D(`img`,{alt:n.fileItem.file.name,src:g(l),class:`mx-auto`},null,8,ze)],8,Re),D(`div`,Be,[D(`p`,Ve,[i[3]||=D(`span`,{class:`has-text-weight-bold`},`Nombre: `,-1),S(t(n.fileItem.file.name),1)]),o(D(`div`,null,[v(xe,{modelValue:n.fileItem.desc,"onUpdate:modelValue":i[0]||=e=>n.fileItem.desc=e,options:g(c)},null,8,[`modelValue`,`options`])],512),[[re,g(c).length]]),D(`div`,null,[v(g(_e),{modelValue:n.fileItem.desc,"onUpdate:modelValue":i[1]||=e=>n.fileItem.desc=e,placeholder:`Descripción`,size:`small`},null,8,[`modelValue`])])]),D(`div`,He,[v(g(oe),{class:`delete-icon is-clickable`,severity:`danger`,title:`Eliminar imagen de la galería`,onClick:i[2]||=e=>d(n.fileItem)},{default:u(()=>[...i[4]||=[S(` ❌ `,-1)]]),_:1}),o(D(`span`,Ue,null,512),[[re,!n.isLocationFile]]),D(`div`,We,[(b(),O(E,null,e(p,e=>o(v(g(oe),{icon:`pi pi-sort-${e}-fill`,title:`Mover ${e}`,severity:`secondary`,outlined:``,onClick:t=>f(n.fileItem,e)},null,8,[`icon`,`title`,`onClick`]),[[re,!n.isLocationFile]])),64))])])])]),_:1}))}}),Ke=ye(Ge,[[`__scopeId`,`data-v-3654535c`]]),qe=Object.defineProperty,Je=Object.getOwnPropertySymbols,Ye=Object.prototype.hasOwnProperty,Xe=Object.prototype.propertyIsEnumerable,Ze=(e,t,n)=>t in e?qe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,Qe=(e,t)=>{for(var n in t||={})Ye.call(t,n)&&Ze(e,n,t[n]);if(Je)for(var n of Je(t))Xe.call(t,n)&&Ze(e,n,t[n]);return e},$e=(e,t)=>{var n={};for(var r in e)Ye.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Je)for(var r of Je(e))t.indexOf(r)<0&&Xe.call(e,r)&&(n[r]=e[r]);return n},et=`[vue-draggable-plus]: `;function tt(e){console.warn(et+e)}function nt(e){console.error(et+e)}function rt(e,t,n){return n>=0&&n<e.length&&e.splice(n,0,e.splice(t,1)[0]),e}function it(e){return e.replace(/-(\w)/g,(e,t)=>t?t.toUpperCase():``)}function at(e){return Object.keys(e).reduce((t,n)=>(e[n]!==void 0&&(t[it(n)]=e[n]),t),{})}function ot(e,t){return Array.isArray(e)&&e.splice(t,1),e}function st(e,t,n){return Array.isArray(e)&&e.splice(t,0,n),e}function ct(e){return e===void 0}function lt(e){return typeof e==`string`}function ut(e,t,n){let r=e.children[n];e.insertBefore(t,r)}function dt(e){e.parentNode&&e.parentNode.removeChild(e)}function ft(e,t=document){let n=null;return n=typeof t?.querySelector==`function`?(t?.querySelector)?.call(t,e):document.querySelector(e),n||tt(`Element not found: ${e}`),n}function pt(e,t,n=null){return function(...r){return e.apply(n,r),t.apply(n,r)}}function mt(e,t){let n=Qe({},e);return Object.keys(t).forEach(r=>{n[r]?n[r]=pt(e[r],t[r]):n[r]=t[r]}),n}function ht(e){return e instanceof HTMLElement}function gt(e,t){Object.keys(e).forEach(n=>{t(n,e[n])})}function _t(e){return e.charCodeAt(0)===111&&e.charCodeAt(1)===110&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97)}var vt=Object.assign;
/**!
* Sortable 1.15.2
* @author	RubaXa   <trash@rubaxa.org>
* @author	owenm    <owen23355@gmail.com>
* @license MIT
*/
function yt(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable})),n.push.apply(n,r)}return n}function A(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]==null?{}:arguments[t];t%2?yt(Object(n),!0).forEach(function(t){xt(e,t,n[t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):yt(Object(n)).forEach(function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))})}return e}function bt(e){"@babel/helpers - typeof";return bt=typeof Symbol==`function`&&typeof Symbol.iterator==`symbol`?function(e){return typeof e}:function(e){return e&&typeof Symbol==`function`&&e.constructor===Symbol&&e!==Symbol.prototype?`symbol`:typeof e},bt(e)}function xt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function St(){return St=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},St.apply(this,arguments)}function Ct(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,a;for(a=0;a<r.length;a++)i=r[a],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function wt(e,t){if(e==null)return{};var n=Ct(e,t),r,i;if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(i=0;i<a.length;i++)r=a[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}var Tt=`1.15.2`;function j(e){if(typeof window<`u`&&window.navigator)return!!navigator.userAgent.match(e)}var Et=j(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Dt=j(/Edge/i),Ot=j(/firefox/i),kt=j(/safari/i)&&!j(/chrome/i)&&!j(/android/i),At=j(/iP(ad|od|hone)/i),jt=j(/chrome/i)&&j(/android/i),Mt={capture:!1,passive:!1};function M(e,t,n){e.addEventListener(t,n,!Et&&Mt)}function N(e,t,n){e.removeEventListener(t,n,!Et&&Mt)}function Nt(e,t){if(t){if(t[0]===`>`&&(t=t.substring(1)),e)try{if(e.matches)return e.matches(t);if(e.msMatchesSelector)return e.msMatchesSelector(t);if(e.webkitMatchesSelector)return e.webkitMatchesSelector(t)}catch{return!1}return!1}}function Pt(e){return e.host&&e!==document&&e.host.nodeType?e.host:e.parentNode}function P(e,t,n,r){if(e){n||=document;do{if(t!=null&&(t[0]===`>`?e.parentNode===n&&Nt(e,t):Nt(e,t))||r&&e===n)return e;if(e===n)break}while(e=Pt(e))}return null}var Ft=/\s+/g;function F(e,t,n){e&&t&&(e.classList?e.classList[n?`add`:`remove`](t):e.className=((` `+e.className+` `).replace(Ft,` `).replace(` `+t+` `,` `)+(n?` `+t:``)).replace(Ft,` `))}function I(e,t,n){var r=e&&e.style;if(r){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(e,``):e.currentStyle&&(n=e.currentStyle),t===void 0?n:n[t];!(t in r)&&t.indexOf(`webkit`)===-1&&(t=`-webkit-`+t),r[t]=n+(typeof n==`string`?``:`px`)}}function It(e,t){var n=``;if(typeof e==`string`)n=e;else do{var r=I(e,`transform`);r&&r!==`none`&&(n=r+` `+n)}while(!t&&(e=e.parentNode));var i=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return i&&new i(n)}function Lt(e,t,n){if(e){var r=e.getElementsByTagName(t),i=0,a=r.length;if(n)for(;i<a;i++)n(r[i],i);return r}return[]}function L(){return document.scrollingElement||document.documentElement}function R(e,t,n,r,i){if(!(!e.getBoundingClientRect&&e!==window)){var a,o,s,c,l,u,d;if(e!==window&&e.parentNode&&e!==L()?(a=e.getBoundingClientRect(),o=a.top,s=a.left,c=a.bottom,l=a.right,u=a.height,d=a.width):(o=0,s=0,c=window.innerHeight,l=window.innerWidth,u=window.innerHeight,d=window.innerWidth),(t||n)&&e!==window&&(i||=e.parentNode,!Et))do if(i&&i.getBoundingClientRect&&(I(i,`transform`)!==`none`||n&&I(i,`position`)!==`static`)){var f=i.getBoundingClientRect();o-=f.top+parseInt(I(i,`border-top-width`)),s-=f.left+parseInt(I(i,`border-left-width`)),c=o+a.height,l=s+a.width;break}while(i=i.parentNode);if(r&&e!==window){var p=It(i||e),m=p&&p.a,h=p&&p.d;p&&(o/=h,s/=m,d/=m,u/=h,c=o+u,l=s+d)}return{top:o,left:s,bottom:c,right:l,width:d,height:u}}}function Rt(e,t,n){for(var r=Ut(e,!0),i=R(e)[t];r;){var a=R(r)[n],o=void 0;if(o=i>=a,!o)return r;if(r===L())break;r=Ut(r,!1)}return!1}function zt(e,t,n,r){for(var i=0,a=0,o=e.children;a<o.length;){if(o[a].style.display!==`none`&&o[a]!==Q.ghost&&(r||o[a]!==Q.dragged)&&P(o[a],n.draggable,e,!1)){if(i===t)return o[a];i++}a++}return null}function Bt(e,t){for(var n=e.lastElementChild;n&&(n===Q.ghost||I(n,`display`)===`none`||t&&!Nt(n,t));)n=n.previousElementSibling;return n||null}function z(e,t){var n=0;if(!e||!e.parentNode)return-1;for(;e=e.previousElementSibling;)e.nodeName.toUpperCase()!==`TEMPLATE`&&e!==Q.clone&&(!t||Nt(e,t))&&n++;return n}function Vt(e){var t=0,n=0,r=L();if(e)do{var i=It(e),a=i.a,o=i.d;t+=e.scrollLeft*a,n+=e.scrollTop*o}while(e!==r&&(e=e.parentNode));return[t,n]}function Ht(e,t){for(var n in e)if(e.hasOwnProperty(n)){for(var r in t)if(t.hasOwnProperty(r)&&t[r]===e[n][r])return Number(n)}return-1}function Ut(e,t){if(!e||!e.getBoundingClientRect)return L();var n=e,r=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var i=I(n);if(n.clientWidth<n.scrollWidth&&(i.overflowX==`auto`||i.overflowX==`scroll`)||n.clientHeight<n.scrollHeight&&(i.overflowY==`auto`||i.overflowY==`scroll`)){if(!n.getBoundingClientRect||n===document.body)return L();if(r||t)return n;r=!0}}while(n=n.parentNode);return L()}function Wt(e,t){if(e&&t)for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n]);return e}function Gt(e,t){return Math.round(e.top)===Math.round(t.top)&&Math.round(e.left)===Math.round(t.left)&&Math.round(e.height)===Math.round(t.height)&&Math.round(e.width)===Math.round(t.width)}var Kt;function qt(e,t){return function(){if(!Kt){var n=arguments,r=this;n.length===1?e.call(r,n[0]):e.apply(r,n),Kt=setTimeout(function(){Kt=void 0},t)}}}function Jt(){clearTimeout(Kt),Kt=void 0}function Yt(e,t,n){e.scrollLeft+=t,e.scrollTop+=n}function Xt(e){var t=window.Polymer,n=window.jQuery||window.Zepto;return t&&t.dom?t.dom(e).cloneNode(!0):n?n(e).clone(!0)[0]:e.cloneNode(!0)}function Zt(e,t,n){var r={};return Array.from(e.children).forEach(function(i){if(!(!P(i,t.draggable,e,!1)||i.animated||i===n)){var a=R(i);r.left=Math.min(r.left??1/0,a.left),r.top=Math.min(r.top??1/0,a.top),r.right=Math.max(r.right??-1/0,a.right),r.bottom=Math.max(r.bottom??-1/0,a.bottom)}}),r.width=r.right-r.left,r.height=r.bottom-r.top,r.x=r.left,r.y=r.top,r}var B=`Sortable`+new Date().getTime();function Qt(){var e=[],t;return{captureAnimationState:function(){e=[],this.options.animation&&[].slice.call(this.el.children).forEach(function(t){if(!(I(t,`display`)===`none`||t===Q.ghost)){e.push({target:t,rect:R(t)});var n=A({},e[e.length-1].rect);if(t.thisAnimationDuration){var r=It(t,!0);r&&(n.top-=r.f,n.left-=r.e)}t.fromRect=n}})},addAnimationState:function(t){e.push(t)},removeAnimationState:function(t){e.splice(Ht(e,{target:t}),1)},animateAll:function(n){var r=this;if(!this.options.animation){clearTimeout(t),typeof n==`function`&&n();return}var i=!1,a=0;e.forEach(function(e){var t=0,n=e.target,o=n.fromRect,s=R(n),c=n.prevFromRect,l=n.prevToRect,u=e.rect,d=It(n,!0);d&&(s.top-=d.f,s.left-=d.e),n.toRect=s,n.thisAnimationDuration&&Gt(c,s)&&!Gt(o,s)&&(u.top-s.top)/(u.left-s.left)===(o.top-s.top)/(o.left-s.left)&&(t=en(u,c,l,r.options)),Gt(s,o)||(n.prevFromRect=o,n.prevToRect=s,t||=r.options.animation,r.animate(n,u,s,t)),t&&(i=!0,a=Math.max(a,t),clearTimeout(n.animationResetTimer),n.animationResetTimer=setTimeout(function(){n.animationTime=0,n.prevFromRect=null,n.fromRect=null,n.prevToRect=null,n.thisAnimationDuration=null},t),n.thisAnimationDuration=t)}),clearTimeout(t),i?t=setTimeout(function(){typeof n==`function`&&n()},a):typeof n==`function`&&n(),e=[]},animate:function(e,t,n,r){if(r){I(e,`transition`,``),I(e,`transform`,``);var i=It(this.el),a=i&&i.a,o=i&&i.d,s=(t.left-n.left)/(a||1),c=(t.top-n.top)/(o||1);e.animatingX=!!s,e.animatingY=!!c,I(e,`transform`,`translate3d(`+s+`px,`+c+`px,0)`),this.forRepaintDummy=$t(e),I(e,`transition`,`transform `+r+`ms`+(this.options.easing?` `+this.options.easing:``)),I(e,`transform`,`translate3d(0,0,0)`),typeof e.animated==`number`&&clearTimeout(e.animated),e.animated=setTimeout(function(){I(e,`transition`,``),I(e,`transform`,``),e.animated=!1,e.animatingX=!1,e.animatingY=!1},r)}}}}function $t(e){return e.offsetWidth}function en(e,t,n,r){return Math.sqrt((t.top-e.top)**2+(t.left-e.left)**2)/Math.sqrt((t.top-n.top)**2+(t.left-n.left)**2)*r.animation}var tn=[],nn={initializeByDefault:!0},rn={mount:function(e){for(var t in nn)nn.hasOwnProperty(t)&&!(t in e)&&(e[t]=nn[t]);tn.forEach(function(t){if(t.pluginName===e.pluginName)throw`Sortable: Cannot mount plugin ${e.pluginName} more than once`}),tn.push(e)},pluginEvent:function(e,t,n){var r=this;this.eventCanceled=!1,n.cancel=function(){r.eventCanceled=!0};var i=e+`Global`;tn.forEach(function(r){t[r.pluginName]&&(t[r.pluginName][i]&&t[r.pluginName][i](A({sortable:t},n)),t.options[r.pluginName]&&t[r.pluginName][e]&&t[r.pluginName][e](A({sortable:t},n)))})},initializePlugins:function(e,t,n,r){for(var i in tn.forEach(function(r){var i=r.pluginName;if(!(!e.options[i]&&!r.initializeByDefault)){var a=new r(e,t,e.options);a.sortable=e,a.options=e.options,e[i]=a,St(n,a.defaults)}}),e.options)if(e.options.hasOwnProperty(i)){var a=this.modifyOption(e,i,e.options[i]);a!==void 0&&(e.options[i]=a)}},getEventProperties:function(e,t){var n={};return tn.forEach(function(r){typeof r.eventProperties==`function`&&St(n,r.eventProperties.call(t[r.pluginName],e))}),n},modifyOption:function(e,t,n){var r;return tn.forEach(function(i){e[i.pluginName]&&i.optionListeners&&typeof i.optionListeners[t]==`function`&&(r=i.optionListeners[t].call(e[i.pluginName],n))}),r}};function an(e){var t=e.sortable,n=e.rootEl,r=e.name,i=e.targetEl,a=e.cloneEl,o=e.toEl,s=e.fromEl,c=e.oldIndex,l=e.newIndex,u=e.oldDraggableIndex,d=e.newDraggableIndex,f=e.originalEvent,p=e.putSortable,m=e.extraEventProperties;if(t||=n&&n[B],t){var h,g=t.options,_=`on`+r.charAt(0).toUpperCase()+r.substr(1);window.CustomEvent&&!Et&&!Dt?h=new CustomEvent(r,{bubbles:!0,cancelable:!0}):(h=document.createEvent(`Event`),h.initEvent(r,!0,!0)),h.to=o||n,h.from=s||n,h.item=i||n,h.clone=a,h.oldIndex=c,h.newIndex=l,h.oldDraggableIndex=u,h.newDraggableIndex=d,h.originalEvent=f,h.pullMode=p?p.lastPutMode:void 0;var ee=A(A({},m),rn.getEventProperties(r,t));for(var v in ee)h[v]=ee[v];n&&n.dispatchEvent(h),g[_]&&g[_].call(t,h)}}var on=[`evt`],V=function(e,t){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},r=n.evt,i=wt(n,on);rn.pluginEvent.bind(Q)(e,t,A({dragEl:U,parentEl:W,ghostEl:G,rootEl:K,nextEl:sn,lastDownEl:cn,cloneEl:q,cloneHidden:ln,dragStarted:Sn,putSortable:Y,activeSortable:Q.active,originalEvent:r,oldIndex:un,oldDraggableIndex:dn,newIndex:J,newDraggableIndex:fn,hideGhostForTarget:Bn,unhideGhostForTarget:Vn,cloneNowHidden:function(){ln=!0},cloneNowShown:function(){ln=!1},dispatchSortableEvent:function(e){H({sortable:t,name:e,originalEvent:r})}},i))};function H(e){an(A({putSortable:Y,cloneEl:q,targetEl:U,rootEl:K,oldIndex:un,oldDraggableIndex:dn,newIndex:J,newDraggableIndex:fn},e))}var U,W,G,K,sn,cn,q,ln,un,J,dn,fn,pn,Y,mn=!1,hn=!1,gn=[],_n,X,vn,yn,bn,xn,Sn,Cn,wn,Tn=!1,En=!1,Dn,Z,On=[],kn=!1,An=[],jn=typeof document<`u`,Mn=At,Nn=Dt||Et?`cssFloat`:`float`,Pn=jn&&!jt&&!At&&`draggable`in document.createElement(`div`),Fn=function(){if(jn){if(Et)return!1;var e=document.createElement(`x`);return e.style.cssText=`pointer-events:auto`,e.style.pointerEvents===`auto`}}(),In=function(e,t){var n=I(e),r=parseInt(n.width)-parseInt(n.paddingLeft)-parseInt(n.paddingRight)-parseInt(n.borderLeftWidth)-parseInt(n.borderRightWidth),i=zt(e,0,t),a=zt(e,1,t),o=i&&I(i),s=a&&I(a),c=o&&parseInt(o.marginLeft)+parseInt(o.marginRight)+R(i).width,l=s&&parseInt(s.marginLeft)+parseInt(s.marginRight)+R(a).width;if(n.display===`flex`)return n.flexDirection===`column`||n.flexDirection===`column-reverse`?`vertical`:`horizontal`;if(n.display===`grid`)return n.gridTemplateColumns.split(` `).length<=1?`vertical`:`horizontal`;if(i&&o.float&&o.float!==`none`){var u=o.float===`left`?`left`:`right`;return a&&(s.clear===`both`||s.clear===u)?`vertical`:`horizontal`}return i&&(o.display===`block`||o.display===`flex`||o.display===`table`||o.display===`grid`||c>=r&&n[Nn]===`none`||a&&n[Nn]===`none`&&c+l>r)?`vertical`:`horizontal`},Ln=function(e,t,n){var r=n?e.left:e.top,i=n?e.right:e.bottom,a=n?e.width:e.height,o=n?t.left:t.top,s=n?t.right:t.bottom,c=n?t.width:t.height;return r===o||i===s||r+a/2===o+c/2},Rn=function(e,t){var n;return gn.some(function(r){var i=r[B].options.emptyInsertThreshold;if(!(!i||Bt(r))){var a=R(r),o=e>=a.left-i&&e<=a.right+i,s=t>=a.top-i&&t<=a.bottom+i;if(o&&s)return n=r}}),n},zn=function(e){function t(e,n){return function(r,i,a,o){var s=r.options.group.name&&i.options.group.name&&r.options.group.name===i.options.group.name;if(e==null&&(n||s))return!0;if(e==null||e===!1)return!1;if(n&&e===`clone`)return e;if(typeof e==`function`)return t(e(r,i,a,o),n)(r,i,a,o);var c=(n?r:i).options.group.name;return e===!0||typeof e==`string`&&e===c||e.join&&e.indexOf(c)>-1}}var n={},r=e.group;(!r||bt(r)!=`object`)&&(r={name:r}),n.name=r.name,n.checkPull=t(r.pull,!0),n.checkPut=t(r.put),n.revertClone=r.revertClone,e.group=n},Bn=function(){!Fn&&G&&I(G,`display`,`none`)},Vn=function(){!Fn&&G&&I(G,`display`,``)};jn&&!jt&&document.addEventListener(`click`,function(e){if(hn)return e.preventDefault(),e.stopPropagation&&e.stopPropagation(),e.stopImmediatePropagation&&e.stopImmediatePropagation(),hn=!1,!1},!0);var Hn=function(e){if(U){e=e.touches?e.touches[0]:e;var t=Rn(e.clientX,e.clientY);if(t){var n={};for(var r in e)e.hasOwnProperty(r)&&(n[r]=e[r]);n.target=n.rootEl=t,n.preventDefault=void 0,n.stopPropagation=void 0,t[B]._onDragOver(n)}}},Un=function(e){U&&U.parentNode[B]._isOutsideThisEl(e.target)};function Q(e,t){if(!(e&&e.nodeType&&e.nodeType===1))throw`Sortable: \`el\` must be an HTMLElement, not ${{}.toString.call(e)}`;this.el=e,this.options=t=St({},t),e[B]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(e.nodeName)?`>li`:`>*`,swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return In(e,this.options)},ghostClass:`sortable-ghost`,chosenClass:`sortable-chosen`,dragClass:`sortable-drag`,ignore:`a, img`,filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(e,t){e.setData(`Text`,t.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:`data-id`,delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:`sortable-fallback`,fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:Q.supportPointer!==!1&&`PointerEvent`in window&&!kt,emptyInsertThreshold:5};for(var r in rn.initializePlugins(this,e,n),n)!(r in t)&&(t[r]=n[r]);for(var i in zn(t),this)i.charAt(0)===`_`&&typeof this[i]==`function`&&(this[i]=this[i].bind(this));this.nativeDraggable=t.forceFallback?!1:Pn,this.nativeDraggable&&(this.options.touchStartThreshold=1),t.supportPointer?M(e,`pointerdown`,this._onTapStart):(M(e,`mousedown`,this._onTapStart),M(e,`touchstart`,this._onTapStart)),this.nativeDraggable&&(M(e,`dragover`,this),M(e,`dragenter`,this)),gn.push(this.el),t.store&&t.store.get&&this.sort(t.store.get(this)||[]),St(this,Qt())}Q.prototype={constructor:Q,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(Cn=null)},_getDirection:function(e,t){return typeof this.options.direction==`function`?this.options.direction.call(this,e,t,U):this.options.direction},_onTapStart:function(e){if(e.cancelable){var t=this,n=this.el,r=this.options,i=r.preventOnFilter,a=e.type,o=e.touches&&e.touches[0]||e.pointerType&&e.pointerType===`touch`&&e,s=(o||e).target,c=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||s,l=r.filter;if($n(n),!U&&!(/mousedown|pointerdown/.test(a)&&e.button!==0||r.disabled)&&!c.isContentEditable&&!(!this.nativeDraggable&&kt&&s&&s.tagName.toUpperCase()===`SELECT`)&&(s=P(s,r.draggable,n,!1),!(s&&s.animated)&&cn!==s)){if(un=z(s),dn=z(s,r.draggable),typeof l==`function`){if(l.call(this,e,s,this)){H({sortable:t,rootEl:c,name:`filter`,targetEl:s,toEl:n,fromEl:n}),V(`filter`,t,{evt:e}),i&&e.cancelable&&e.preventDefault();return}}else if(l&&(l=l.split(`,`).some(function(r){if(r=P(c,r.trim(),n,!1),r)return H({sortable:t,rootEl:r,name:`filter`,targetEl:s,fromEl:n,toEl:n}),V(`filter`,t,{evt:e}),!0}),l)){i&&e.cancelable&&e.preventDefault();return}r.handle&&!P(c,r.handle,n,!1)||this._prepareDragStart(e,o,s)}}},_prepareDragStart:function(e,t,n){var r=this,i=r.el,a=r.options,o=i.ownerDocument,s;if(n&&!U&&n.parentNode===i){var c=R(n);if(K=i,U=n,W=U.parentNode,sn=U.nextSibling,cn=n,pn=a.group,Q.dragged=U,_n={target:U,clientX:(t||e).clientX,clientY:(t||e).clientY},bn=_n.clientX-c.left,xn=_n.clientY-c.top,this._lastX=(t||e).clientX,this._lastY=(t||e).clientY,U.style[`will-change`]=`all`,s=function(){if(V(`delayEnded`,r,{evt:e}),Q.eventCanceled){r._onDrop();return}r._disableDelayedDragEvents(),!Ot&&r.nativeDraggable&&(U.draggable=!0),r._triggerDragStart(e,t),H({sortable:r,name:`choose`,originalEvent:e}),F(U,a.chosenClass,!0)},a.ignore.split(`,`).forEach(function(e){Lt(U,e.trim(),Kn)}),M(o,`dragover`,Hn),M(o,`mousemove`,Hn),M(o,`touchmove`,Hn),M(o,`mouseup`,r._onDrop),M(o,`touchend`,r._onDrop),M(o,`touchcancel`,r._onDrop),Ot&&this.nativeDraggable&&(this.options.touchStartThreshold=4,U.draggable=!0),V(`delayStart`,this,{evt:e}),a.delay&&(!a.delayOnTouchOnly||t)&&(!this.nativeDraggable||!(Dt||Et))){if(Q.eventCanceled){this._onDrop();return}M(o,`mouseup`,r._disableDelayedDrag),M(o,`touchend`,r._disableDelayedDrag),M(o,`touchcancel`,r._disableDelayedDrag),M(o,`mousemove`,r._delayedDragTouchMoveHandler),M(o,`touchmove`,r._delayedDragTouchMoveHandler),a.supportPointer&&M(o,`pointermove`,r._delayedDragTouchMoveHandler),r._dragStartTimer=setTimeout(s,a.delay)}else s()}},_delayedDragTouchMoveHandler:function(e){var t=e.touches?e.touches[0]:e;Math.max(Math.abs(t.clientX-this._lastX),Math.abs(t.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){U&&Kn(U),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;N(e,`mouseup`,this._disableDelayedDrag),N(e,`touchend`,this._disableDelayedDrag),N(e,`touchcancel`,this._disableDelayedDrag),N(e,`mousemove`,this._delayedDragTouchMoveHandler),N(e,`touchmove`,this._delayedDragTouchMoveHandler),N(e,`pointermove`,this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,t){t||=e.pointerType==`touch`&&e,!this.nativeDraggable||t?this.options.supportPointer?M(document,`pointermove`,this._onTouchMove):t?M(document,`touchmove`,this._onTouchMove):M(document,`mousemove`,this._onTouchMove):(M(U,`dragend`,this),M(K,`dragstart`,this._onDragStart));try{document.selection?er(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,t){if(mn=!1,K&&U){V(`dragStarted`,this,{evt:t}),this.nativeDraggable&&M(document,`dragover`,Un);var n=this.options;!e&&F(U,n.dragClass,!1),F(U,n.ghostClass,!0),Q.active=this,e&&this._appendGhost(),H({sortable:this,name:`start`,originalEvent:t})}else this._nulling()},_emulateDragOver:function(){if(X){this._lastX=X.clientX,this._lastY=X.clientY,Bn();for(var e=document.elementFromPoint(X.clientX,X.clientY),t=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(X.clientX,X.clientY),e!==t);)t=e;if(U.parentNode[B]._isOutsideThisEl(e),t)do{if(t[B]){var n=void 0;if(n=t[B]._onDragOver({clientX:X.clientX,clientY:X.clientY,target:e,rootEl:t}),n&&!this.options.dragoverBubble)break}e=t}while(t=t.parentNode);Vn()}},_onTouchMove:function(e){if(_n){var t=this.options,n=t.fallbackTolerance,r=t.fallbackOffset,i=e.touches?e.touches[0]:e,a=G&&It(G,!0),o=G&&a&&a.a,s=G&&a&&a.d,c=Mn&&Z&&Vt(Z),l=(i.clientX-_n.clientX+r.x)/(o||1)+(c?c[0]-On[0]:0)/(o||1),u=(i.clientY-_n.clientY+r.y)/(s||1)+(c?c[1]-On[1]:0)/(s||1);if(!Q.active&&!mn){if(n&&Math.max(Math.abs(i.clientX-this._lastX),Math.abs(i.clientY-this._lastY))<n)return;this._onDragStart(e,!0)}if(G){a?(a.e+=l-(vn||0),a.f+=u-(yn||0)):a={a:1,b:0,c:0,d:1,e:l,f:u};var d=`matrix(${a.a},${a.b},${a.c},${a.d},${a.e},${a.f})`;I(G,`webkitTransform`,d),I(G,`mozTransform`,d),I(G,`msTransform`,d),I(G,`transform`,d),vn=l,yn=u,X=i}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!G){var e=this.options.fallbackOnBody?document.body:K,t=R(U,!0,Mn,!0,e),n=this.options;if(Mn){for(Z=e;I(Z,`position`)===`static`&&I(Z,`transform`)===`none`&&Z!==document;)Z=Z.parentNode;Z!==document.body&&Z!==document.documentElement?(Z===document&&(Z=L()),t.top+=Z.scrollTop,t.left+=Z.scrollLeft):Z=L(),On=Vt(Z)}G=U.cloneNode(!0),F(G,n.ghostClass,!1),F(G,n.fallbackClass,!0),F(G,n.dragClass,!0),I(G,`transition`,``),I(G,`transform`,``),I(G,`box-sizing`,`border-box`),I(G,`margin`,0),I(G,`top`,t.top),I(G,`left`,t.left),I(G,`width`,t.width),I(G,`height`,t.height),I(G,`opacity`,`0.8`),I(G,`position`,Mn?`absolute`:`fixed`),I(G,`zIndex`,`100000`),I(G,`pointerEvents`,`none`),Q.ghost=G,e.appendChild(G),I(G,`transform-origin`,bn/parseInt(G.style.width)*100+`% `+xn/parseInt(G.style.height)*100+`%`)}},_onDragStart:function(e,t){var n=this,r=e.dataTransfer,i=n.options;if(V(`dragStart`,this,{evt:e}),Q.eventCanceled){this._onDrop();return}V(`setupClone`,this),Q.eventCanceled||(q=Xt(U),q.removeAttribute(`id`),q.draggable=!1,q.style[`will-change`]=``,this._hideClone(),F(q,this.options.chosenClass,!1),Q.clone=q),n.cloneId=er(function(){V(`clone`,n),!Q.eventCanceled&&(n.options.removeCloneOnHide||K.insertBefore(q,U),n._hideClone(),H({sortable:n,name:`clone`}))}),!t&&F(U,i.dragClass,!0),t?(hn=!0,n._loopId=setInterval(n._emulateDragOver,50)):(N(document,`mouseup`,n._onDrop),N(document,`touchend`,n._onDrop),N(document,`touchcancel`,n._onDrop),r&&(r.effectAllowed=`move`,i.setData&&i.setData.call(n,r,U)),M(document,`drop`,n),I(U,`transform`,`translateZ(0)`)),mn=!0,n._dragStartId=er(n._dragStarted.bind(n,t,e)),M(document,`selectstart`,n),Sn=!0,kt&&I(document.body,`user-select`,`none`)},_onDragOver:function(e){var t=this.el,n=e.target,r,i,a,o=this.options,s=o.group,c=Q.active,l=pn===s,u=o.sort,d=Y||c,f,p=this,m=!1;if(kn)return;function h(o,s){V(o,p,A({evt:e,isOwner:l,axis:f?`vertical`:`horizontal`,revert:a,dragRect:r,targetRect:i,canSort:u,fromSortable:d,target:n,completed:_,onMove:function(n,i){return Gn(K,t,U,r,n,R(n),e,i)},changed:ee},s))}function g(){h(`dragOverAnimationCapture`),p.captureAnimationState(),p!==d&&d.captureAnimationState()}function _(r){return h(`dragOverCompleted`,{insertion:r}),r&&(l?c._hideClone():c._showClone(p),p!==d&&(F(U,Y?Y.options.ghostClass:c.options.ghostClass,!1),F(U,o.ghostClass,!0)),Y!==p&&p!==Q.active?Y=p:p===Q.active&&Y&&(Y=null),d===p&&(p._ignoreWhileAnimating=n),p.animateAll(function(){h(`dragOverAnimationComplete`),p._ignoreWhileAnimating=null}),p!==d&&(d.animateAll(),d._ignoreWhileAnimating=null)),(n===U&&!U.animated||n===t&&!n.animated)&&(Cn=null),!o.dragoverBubble&&!e.rootEl&&n!==document&&(U.parentNode[B]._isOutsideThisEl(e.target),!r&&Hn(e)),!o.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),m=!0}function ee(){J=z(U),fn=z(U,o.draggable),H({sortable:p,name:`change`,toEl:t,newIndex:J,newDraggableIndex:fn,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),n=P(n,o.draggable,t,!0),h(`dragOver`),Q.eventCanceled)return m;if(U.contains(e.target)||n.animated&&n.animatingX&&n.animatingY||p._ignoreWhileAnimating===n)return _(!1);if(hn=!1,c&&!o.disabled&&(l?u||(a=W!==K):Y===this||(this.lastPutMode=pn.checkPull(this,c,U,e))&&s.checkPut(this,c,U,e))){if(f=this._getDirection(e,n)===`vertical`,r=R(U),h(`dragOverValid`),Q.eventCanceled)return m;if(a)return W=K,g(),this._hideClone(),h(`revert`),Q.eventCanceled||(sn?K.insertBefore(U,sn):K.appendChild(U)),_(!0);var v=Bt(t,o.draggable);if(!v||Yn(e,f,this)&&!v.animated){if(v===U)return _(!1);if(v&&t===e.target&&(n=v),n&&(i=R(n)),Gn(K,t,U,r,n,i,e,!!n)!==!1)return g(),v&&v.nextSibling?t.insertBefore(U,v.nextSibling):t.appendChild(U),W=t,ee(),_(!0)}else if(v&&Jn(e,f,this)){var y=zt(t,0,o,!0);if(y===U)return _(!1);if(n=y,i=R(n),Gn(K,t,U,r,n,i,e,!1)!==!1)return g(),t.insertBefore(U,y),W=t,ee(),_(!0)}else if(n.parentNode===t){i=R(n);var b=0,x,S=U.parentNode!==t,C=!Ln(U.animated&&U.toRect||r,n.animated&&n.toRect||i,f),w=f?`top`:`left`,T=Rt(n,`top`,`top`)||Rt(U,`top`,`top`),E=T?T.scrollTop:void 0;Cn!==n&&(x=i[w],Tn=!1,En=!C&&o.invertSwap||S),b=Xn(e,n,i,f,C?1:o.swapThreshold,o.invertedSwapThreshold==null?o.swapThreshold:o.invertedSwapThreshold,En,Cn===n);var D;if(b!==0){var O=z(U);do O-=b,D=W.children[O];while(D&&(I(D,`display`)===`none`||D===G))}if(b===0||D===n)return _(!1);Cn=n,wn=b;var k=n.nextElementSibling,te=!1;te=b===1;var ne=Gn(K,t,U,r,n,i,e,te);if(ne!==!1)return(ne===1||ne===-1)&&(te=ne===1),kn=!0,setTimeout(qn,30),g(),te&&!k?t.appendChild(U):n.parentNode.insertBefore(U,te?k:n),T&&Yt(T,0,E-T.scrollTop),W=U.parentNode,x!==void 0&&!En&&(Dn=Math.abs(x-R(n)[w])),ee(),_(!0)}if(t.contains(U))return _(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){N(document,`mousemove`,this._onTouchMove),N(document,`touchmove`,this._onTouchMove),N(document,`pointermove`,this._onTouchMove),N(document,`dragover`,Hn),N(document,`mousemove`,Hn),N(document,`touchmove`,Hn)},_offUpEvents:function(){var e=this.el.ownerDocument;N(e,`mouseup`,this._onDrop),N(e,`touchend`,this._onDrop),N(e,`pointerup`,this._onDrop),N(e,`touchcancel`,this._onDrop),N(document,`selectstart`,this)},_onDrop:function(e){var t=this.el,n=this.options;if(J=z(U),fn=z(U,n.draggable),V(`drop`,this,{evt:e}),W=U&&U.parentNode,J=z(U),fn=z(U,n.draggable),Q.eventCanceled){this._nulling();return}mn=!1,En=!1,Tn=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),tr(this.cloneId),tr(this._dragStartId),this.nativeDraggable&&(N(document,`drop`,this),N(t,`dragstart`,this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),kt&&I(document.body,`user-select`,``),I(U,`transform`,``),e&&(Sn&&(e.cancelable&&e.preventDefault(),!n.dropBubble&&e.stopPropagation()),G&&G.parentNode&&G.parentNode.removeChild(G),(K===W||Y&&Y.lastPutMode!==`clone`)&&q&&q.parentNode&&q.parentNode.removeChild(q),U&&(this.nativeDraggable&&N(U,`dragend`,this),Kn(U),U.style[`will-change`]=``,Sn&&!mn&&F(U,Y?Y.options.ghostClass:this.options.ghostClass,!1),F(U,this.options.chosenClass,!1),H({sortable:this,name:`unchoose`,toEl:W,newIndex:null,newDraggableIndex:null,originalEvent:e}),K===W?J!==un&&J>=0&&(H({sortable:this,name:`update`,toEl:W,originalEvent:e}),H({sortable:this,name:`sort`,toEl:W,originalEvent:e})):(J>=0&&(H({rootEl:W,name:`add`,toEl:W,fromEl:K,originalEvent:e}),H({sortable:this,name:`remove`,toEl:W,originalEvent:e}),H({rootEl:W,name:`sort`,toEl:W,fromEl:K,originalEvent:e}),H({sortable:this,name:`sort`,toEl:W,originalEvent:e})),Y&&Y.save()),Q.active&&((J==null||J===-1)&&(J=un,fn=dn),H({sortable:this,name:`end`,toEl:W,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){V(`nulling`,this),K=U=W=G=sn=q=cn=ln=_n=X=Sn=J=fn=un=dn=Cn=wn=Y=pn=Q.dragged=Q.ghost=Q.clone=Q.active=null,An.forEach(function(e){e.checked=!0}),An.length=vn=yn=0},handleEvent:function(e){switch(e.type){case`drop`:case`dragend`:this._onDrop(e);break;case`dragenter`:case`dragover`:U&&(this._onDragOver(e),Wn(e));break;case`selectstart`:e.preventDefault();break}},toArray:function(){for(var e=[],t,n=this.el.children,r=0,i=n.length,a=this.options;r<i;r++)t=n[r],P(t,a.draggable,this.el,!1)&&e.push(t.getAttribute(a.dataIdAttr)||Qn(t));return e},sort:function(e,t){var n={},r=this.el;this.toArray().forEach(function(e,t){var i=r.children[t];P(i,this.options.draggable,r,!1)&&(n[e]=i)},this),t&&this.captureAnimationState(),e.forEach(function(e){n[e]&&(r.removeChild(n[e]),r.appendChild(n[e]))}),t&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,t){return P(e,t||this.options.draggable,this.el,!1)},option:function(e,t){var n=this.options;if(t===void 0)return n[e];var r=rn.modifyOption(this,e,t);r===void 0?n[e]=t:n[e]=r,e===`group`&&zn(n)},destroy:function(){V(`destroy`,this);var e=this.el;e[B]=null,N(e,`mousedown`,this._onTapStart),N(e,`touchstart`,this._onTapStart),N(e,`pointerdown`,this._onTapStart),this.nativeDraggable&&(N(e,`dragover`,this),N(e,`dragenter`,this)),Array.prototype.forEach.call(e.querySelectorAll(`[draggable]`),function(e){e.removeAttribute(`draggable`)}),this._onDrop(),this._disableDelayedDragEvents(),gn.splice(gn.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!ln){if(V(`hideClone`,this),Q.eventCanceled)return;I(q,`display`,`none`),this.options.removeCloneOnHide&&q.parentNode&&q.parentNode.removeChild(q),ln=!0}},_showClone:function(e){if(e.lastPutMode!==`clone`){this._hideClone();return}if(ln){if(V(`showClone`,this),Q.eventCanceled)return;U.parentNode==K&&!this.options.group.revertClone?K.insertBefore(q,U):sn?K.insertBefore(q,sn):K.appendChild(q),this.options.group.revertClone&&this.animate(U,q),I(q,`display`,``),ln=!1}}};function Wn(e){e.dataTransfer&&(e.dataTransfer.dropEffect=`move`),e.cancelable&&e.preventDefault()}function Gn(e,t,n,r,i,a,o,s){var c,l=e[B],u=l.options.onMove,d;return window.CustomEvent&&!Et&&!Dt?c=new CustomEvent(`move`,{bubbles:!0,cancelable:!0}):(c=document.createEvent(`Event`),c.initEvent(`move`,!0,!0)),c.to=t,c.from=e,c.dragged=n,c.draggedRect=r,c.related=i||t,c.relatedRect=a||R(t),c.willInsertAfter=s,c.originalEvent=o,e.dispatchEvent(c),u&&(d=u.call(l,c,o)),d}function Kn(e){e.draggable=!1}function qn(){kn=!1}function Jn(e,t,n){var r=R(zt(n.el,0,n.options,!0)),i=Zt(n.el,n.options,G),a=10;return t?e.clientX<i.left-a||e.clientY<r.top&&e.clientX<r.right:e.clientY<i.top-a||e.clientY<r.bottom&&e.clientX<r.left}function Yn(e,t,n){var r=R(Bt(n.el,n.options.draggable)),i=Zt(n.el,n.options,G),a=10;return t?e.clientX>i.right+a||e.clientY>r.bottom&&e.clientX>r.left:e.clientY>i.bottom+a||e.clientX>r.right&&e.clientY>r.top}function Xn(e,t,n,r,i,a,o,s){var c=r?e.clientY:e.clientX,l=r?n.height:n.width,u=r?n.top:n.left,d=r?n.bottom:n.right,f=!1;if(!o){if(s&&Dn<l*i){if(!Tn&&(wn===1?c>u+l*a/2:c<d-l*a/2)&&(Tn=!0),Tn)f=!0;else if(wn===1?c<u+Dn:c>d-Dn)return-wn}else if(c>u+l*(1-i)/2&&c<d-l*(1-i)/2)return Zn(t)}return f||=o,f&&(c<u+l*a/2||c>d-l*a/2)?c>u+l/2?1:-1:0}function Zn(e){return z(U)<z(e)?1:-1}function Qn(e){for(var t=e.tagName+e.className+e.src+e.href+e.textContent,n=t.length,r=0;n--;)r+=t.charCodeAt(n);return r.toString(36)}function $n(e){An.length=0;for(var t=e.getElementsByTagName(`input`),n=t.length;n--;){var r=t[n];r.checked&&An.push(r)}}function er(e){return setTimeout(e,0)}function tr(e){return clearTimeout(e)}jn&&M(document,`touchmove`,function(e){(Q.active||mn)&&e.cancelable&&e.preventDefault()}),Q.utils={on:M,off:N,css:I,find:Lt,is:function(e,t){return!!P(e,t,e,!1)},extend:Wt,throttle:qt,closest:P,toggleClass:F,clone:Xt,index:z,nextTick:er,cancelNextTick:tr,detectDirection:In,getChild:zt},Q.get=function(e){return e[B]},Q.mount=function(){var e=[...arguments];e[0].constructor===Array&&(e=e[0]),e.forEach(function(e){if(!e.prototype||!e.prototype.constructor)throw`Sortable: Mounted plugin must be a constructor function, not ${{}.toString.call(e)}`;e.utils&&(Q.utils=A(A({},Q.utils),e.utils)),rn.mount(e)})},Q.create=function(e,t){return new Q(e,t)},Q.version=Tt;var $=[],nr,rr,ir=!1,ar,or,sr,cr;function lr(){function e(){for(var e in this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0},this)e.charAt(0)===`_`&&typeof this[e]==`function`&&(this[e]=this[e].bind(this))}return e.prototype={dragStarted:function(e){var t=e.originalEvent;this.sortable.nativeDraggable?M(document,`dragover`,this._handleAutoScroll):this.options.supportPointer?M(document,`pointermove`,this._handleFallbackAutoScroll):t.touches?M(document,`touchmove`,this._handleFallbackAutoScroll):M(document,`mousemove`,this._handleFallbackAutoScroll)},dragOverCompleted:function(e){var t=e.originalEvent;!this.options.dragOverBubble&&!t.rootEl&&this._handleAutoScroll(t)},drop:function(){this.sortable.nativeDraggable?N(document,`dragover`,this._handleAutoScroll):(N(document,`pointermove`,this._handleFallbackAutoScroll),N(document,`touchmove`,this._handleFallbackAutoScroll),N(document,`mousemove`,this._handleFallbackAutoScroll)),dr(),ur(),Jt()},nulling:function(){sr=rr=nr=ir=cr=ar=or=null,$.length=0},_handleFallbackAutoScroll:function(e){this._handleAutoScroll(e,!0)},_handleAutoScroll:function(e,t){var n=this,r=(e.touches?e.touches[0]:e).clientX,i=(e.touches?e.touches[0]:e).clientY,a=document.elementFromPoint(r,i);if(sr=e,t||this.options.forceAutoScrollFallback||Dt||Et||kt){fr(e,this.options,a,t);var o=Ut(a,!0);ir&&(!cr||r!==ar||i!==or)&&(cr&&dr(),cr=setInterval(function(){var a=Ut(document.elementFromPoint(r,i),!0);a!==o&&(o=a,ur()),fr(e,n.options,a,t)},10),ar=r,or=i)}else{if(!this.options.bubbleScroll||Ut(a,!0)===L()){ur();return}fr(e,this.options,Ut(a,!1),!1)}}},St(e,{pluginName:`scroll`,initializeByDefault:!0})}function ur(){$.forEach(function(e){clearInterval(e.pid)}),$=[]}function dr(){clearInterval(cr)}var fr=qt(function(e,t,n,r){if(t.scroll){var i=(e.touches?e.touches[0]:e).clientX,a=(e.touches?e.touches[0]:e).clientY,o=t.scrollSensitivity,s=t.scrollSpeed,c=L(),l=!1,u;rr!==n&&(rr=n,ur(),nr=t.scroll,u=t.scrollFn,nr===!0&&(nr=Ut(n,!0)));var d=0,f=nr;do{var p=f,m=R(p),h=m.top,g=m.bottom,_=m.left,ee=m.right,v=m.width,y=m.height,b=void 0,x=void 0,S=p.scrollWidth,C=p.scrollHeight,w=I(p),T=p.scrollLeft,E=p.scrollTop;p===c?(b=v<S&&(w.overflowX===`auto`||w.overflowX===`scroll`||w.overflowX===`visible`),x=y<C&&(w.overflowY===`auto`||w.overflowY===`scroll`||w.overflowY===`visible`)):(b=v<S&&(w.overflowX===`auto`||w.overflowX===`scroll`),x=y<C&&(w.overflowY===`auto`||w.overflowY===`scroll`));var D=b&&(Math.abs(ee-i)<=o&&T+v<S)-(Math.abs(_-i)<=o&&!!T),O=x&&(Math.abs(g-a)<=o&&E+y<C)-(Math.abs(h-a)<=o&&!!E);if(!$[d])for(var k=0;k<=d;k++)$[k]||($[k]={});($[d].vx!=D||$[d].vy!=O||$[d].el!==p)&&($[d].el=p,$[d].vx=D,$[d].vy=O,clearInterval($[d].pid),(D!=0||O!=0)&&(l=!0,$[d].pid=setInterval(function(){r&&this.layer===0&&Q.active._onTouchMove(sr);var t=$[this.layer].vy?$[this.layer].vy*s:0,n=$[this.layer].vx?$[this.layer].vx*s:0;typeof u==`function`&&u.call(Q.dragged.parentNode[B],n,t,e,sr,$[this.layer].el)!==`continue`||Yt($[this.layer].el,n,t)}.bind({layer:d}),24))),d++}while(t.bubbleScroll&&f!==c&&(f=Ut(f,!1)));ir=l}},30),pr=function(e){var t=e.originalEvent,n=e.putSortable,r=e.dragEl,i=e.activeSortable,a=e.dispatchSortableEvent,o=e.hideGhostForTarget,s=e.unhideGhostForTarget;if(t){var c=n||i;o();var l=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:t,u=document.elementFromPoint(l.clientX,l.clientY);s(),c&&!c.el.contains(u)&&(a(`spill`),this.onSpill({dragEl:r,putSortable:n}))}};function mr(){}mr.prototype={startIndex:null,dragStart:function(e){this.startIndex=e.oldDraggableIndex},onSpill:function(e){var t=e.dragEl,n=e.putSortable;this.sortable.captureAnimationState(),n&&n.captureAnimationState();var r=zt(this.sortable.el,this.startIndex,this.options);r?this.sortable.el.insertBefore(t,r):this.sortable.el.appendChild(t),this.sortable.animateAll(),n&&n.animateAll()},drop:pr},St(mr,{pluginName:`revertOnSpill`});function hr(){}hr.prototype={onSpill:function(e){var t=e.dragEl,n=e.putSortable||this.sortable;n.captureAnimationState(),t.parentNode&&t.parentNode.removeChild(t),n.animateAll()},drop:pr},St(hr,{pluginName:`removeOnSpill`}),Q.mount(new lr),Q.mount(hr,mr);function gr(e){return e==null?e:JSON.parse(JSON.stringify(e))}function _r(e){k()&&r(e)}function vr(e){k()?a(e):c(e)}var yr=null,br=null;function xr(e=null,t=null){yr=e,br=t}function Sr(){return{data:yr,clonedData:br}}var Cr=Symbol(`cloneElement`);function wr(...e){let t=k()?.proxy,n=null,r=e[0],[,i,a]=e;Array.isArray(g(i))||(a=i,i=null);let o=null,{immediate:s=!0,clone:u=gr,customUpdate:d}=g(a)??{};function p(e){let{from:t,oldIndex:r,item:a}=e;n=Array.from(t.childNodes);let o=g(g(i)?.[r]),s=u(o);xr(o,s),a[Cr]=s}function m(e){let t=e.item[Cr];if(!ct(t)){if(dt(e.item),f(i)){let n=[...g(i)];i.value=st(n,e.newDraggableIndex,t);return}st(g(i),e.newDraggableIndex,t)}}function h(e){let{from:t,item:n,oldIndex:r,oldDraggableIndex:a,pullMode:o,clone:s}=e;if(ut(t,n,r),o===`clone`){dt(s);return}if(f(i)){let e=[...g(i)];i.value=ot(e,a);return}ot(g(i),a)}function _(e){if(d){d(e);return}let{from:t,item:n,oldIndex:r,oldDraggableIndex:a,newDraggableIndex:o}=e;if(dt(n),ut(t,n,r),f(i)){let e=[...g(i)];i.value=rt(e,a,o);return}rt(g(i),a,o)}function ee(e){let{newIndex:t,oldIndex:r,from:i,to:a}=e,o=null,s=t===r&&i===a;try{if(s){let e=null;n?.some((t,r)=>{if(e&&n?.length!==a.childNodes.length)return i.insertBefore(e,t.nextSibling),!0;let o=a.childNodes[r];e=a?.replaceChild(t,o)})}}catch(e){o=e}finally{n=null}c(()=>{if(xr(),o)throw o})}let v={onUpdate:_,onStart:p,onAdd:m,onRemove:h,onEnd:ee};function y(e){let n=g(r);return e||=lt(n)?ft(n,t?.$el):n,e&&!ht(e)&&(e=e.$el),e||nt(`Root element not found`),e}function b(){let e=g(a)??{},{immediate:t,clone:n}=e,r=$e(e,[`immediate`,`clone`]);return gt(r,(e,t)=>{_t(e)&&(r[e]=(e,...n)=>{let r=Sr();return vt(e,r),t(e,...n)})}),mt(i===null?{}:v,r)}let x=e=>{e=y(e),o&&S.destroy(),o=new Q(e,b())};l(()=>a,()=>{o&&gt(b(),(e,t)=>{o?.option(e,t)})},{deep:!0});let S={option:(e,t)=>o?.option(e,t),destroy:()=>{o?.destroy(),o=null},save:()=>o?.save(),toArray:()=>o?.toArray(),closest:(...e)=>o?.closest(...e)};return vr(()=>{s&&x()}),_r(S.destroy),Qe({start:x,pause:()=>S?.option(`disabled`,!0),resume:()=>S?.option(`disabled`,!1)},S)}var Tr=[`update`,`start`,`add`,`remove`,`choose`,`unchoose`,`end`,`sort`,`filter`,`clone`,`move`,`change`],Er=[`clone`,`animation`,`ghostClass`,`group`,`sort`,`disabled`,`store`,`handle`,`draggable`,`swapThreshold`,`invertSwap`,`invertedSwapThreshold`,`removeCloneOnHide`,`direction`,`chosenClass`,`dragClass`,`ignore`,`filter`,`preventOnFilter`,`easing`,`setData`,`dropBubble`,`dragoverBubble`,`dataIdAttr`,`delay`,`delayOnTouchOnly`,`touchStartThreshold`,`forceFallback`,`fallbackClass`,`fallbackOnBody`,`fallbackTolerance`,`fallbackOffset`,`supportPointer`,`emptyInsertThreshold`,`scroll`,`forceAutoScrollFallback`,`scrollSensitivity`,`scrollSpeed`,`bubbleScroll`,`modelValue`,`tag`,`target`,`customUpdate`,...Tr.map(e=>`on${e.replace(/^\S/,e=>e.toUpperCase())}`)],Dr=p({name:`VueDraggable`,model:{prop:`modelValue`,event:`update:modelValue`},props:Er,emits:[`update:modelValue`,...Tr],setup(e,{slots:t,emit:n,expose:r,attrs:i}){let a=Tr.reduce((e,t)=>{let r=`on${t.replace(/^\S/,e=>e.toUpperCase())}`;return e[r]=(...e)=>n(t,...e),e},{}),o=w(()=>{let t=T(e),{modelValue:n}=t,r=$e(t,[`modelValue`]),o=Object.entries(r).reduce((e,[t,n])=>{let r=g(n);return r!==void 0&&(e[t]=r),e},{});return Qe(Qe({},a),at(Qe(Qe({},i),o)))}),s=w({get:()=>e.modelValue,set:e=>n(`update:modelValue`,e)}),c=C(),l=_(wr(e.target||c,s,o));return r(l),()=>m(e.tag||`div`,{ref:c},(t?.default)?.call(t,l))}}),Or={mounted:`mounted`,unmounted:`unmounted`};Or.mounted,Or.unmounted;var kr={key:0,class:`is-flex is-flex-direction-column is-gap-1`},Ar=p({__name:`GalleryPreview`,setup(t){let n=ge(),{galleryFiles:r,locationFiles:i}=fe(n),a=C(!1);return(t,n)=>g(r).length?(b(),h(g(we),{key:0,collapsed:a.value,"onUpdate:collapsed":n[1]||=e=>a.value=e,header:`Vistra Previa`,toggleable:``},{default:u(()=>[v(g(Dr),{modelValue:g(r),"onUpdate:modelValue":n[0]||=e=>f(r)?r.value=e:null,animation:250,class:`is-flex is-flex-direction-column is-gap-1`,handle:`.handle`},{default:u(()=>[(b(!0),O(E,null,e(g(r),e=>(b(),h(Ke,{"file-item":e,key:e.id,"is-location-file":!1},null,8,[`file-item`]))),128))]),_:1},8,[`modelValue`]),g(i).length?(b(),O(`div`,kr,[n[2]||=D(`p`,{class:`has-text-weight-bold is-block mb-1`},`Location Files`,-1),(b(!0),O(E,null,e(g(i),e=>(b(),h(Ke,{"file-item":e,key:e.id,"is-location-file":!0},null,8,[`file-item`]))),128))])):x(``,!0)]),_:1},8,[`collapsed`])):x(``,!0)}}),jr={class:`is-flex is-flex-direction-column is-gap-2 mt-5`},Mr={key:0,class:`error-message`},Nr={class:`mt-3`},Pr=ye(p({__name:`GalleryInput`,setup(n){let r=ge(),{galleryFiles:a}=fe(r),o=C([]),s=C(!1),c=C(localStorage.getItem(`hasSeenInfoModal-Gallery`)===`true`),l=0;function d(e){let t=e.files;if(!Array.isArray(t))return;o.value=[];let n=t.filter(e=>e instanceof File?e.size>1e7?(o.value.push(e.name),!1):!0:!1).map(e=>({file:e,id:l++,desc:``}));!c.value&&n.length&&(s.value=!0,c.value=!0,localStorage.setItem(`hasSeenInfoModal-Gallery`,`true`)),n.length&&a.value.unshift(...n)}function f(e){if(!e)return;o.value=[];let t=e.filter(e=>e.size>1e7?(o.value.push(e.name),!1):!0).map(e=>({file:e,id:l++,desc:``}));!c.value&&t.length&&(s.value=!0,c.value=!0,localStorage.setItem(`hasSeenInfoModal-Gallery`,`true`)),t.length&&a.value.unshift(...t)}let p=C(null),{isOverDropZone:m}=le(p,{onDrop:f,dataTypes:e=>e.every(e=>e.startsWith(`image/`)),multiple:!0,preventDefaultForUnhandled:!0});return(n,r)=>(b(),O(`div`,jr,[o.value.length?(b(),O(`p`,Mr,[o.value.length===1?(b(),O(E,{key:0},[r[1]||=S(` El archivo `,-1),D(`strong`,null,t(o.value[0]),1),r[2]||=S(` es demasiado grande para subirlo (máx. 10MB). `,-1)],64)):(b(),O(E,{key:1},[r[3]||=S(` Los siguientes archivos son demasiado grandes para subirlos (máx. 10MB): `,-1),D(`ul`,null,[(b(!0),O(E,null,e(o.value,e=>(b(),O(`li`,{key:e},t(e),1))),128))])],64)),r[4]||=S(` Comprime tu archivo aquí: `,-1),v(be,{link:`https://nmscd.com/Image-Compressor/`,text:`Compresor de imágenes`})])):x(``,!0),v(g(Se),{maxFileSize:g(De),"show-cancel-button":!1,"show-upload-button":!1,accept:`image/*`,auto:``,"custom-upload":``,multiple:``,onSelect:d},{header:u(()=>[D(`div`,{class:`full-width`,ref_key:`dropzone`,ref:p},[v(g(Se),{class:i({"p-button-outlined":!g(m)}),maxFileSize:g(De),accept:`image/*`,"choose-label":`Añadir archivos`,auto:``,"custom-upload":``,mode:`basic`,multiple:``,onSelect:d},null,8,[`class`,`maxFileSize`])],512)]),empty:u(()=>[...r[5]||=[D(`div`,{class:`is-flex is-justify-content-center is-align-items-center my-5`},[D(`p`,null,`Suelte los archivos de la galería aquí`)],-1)]]),_:1},8,[`maxFileSize`]),v(g(ve),{visible:s.value,"onUpdate:visible":r[0]||=e=>s.value=e,modal:``,header:`Atención`,closable:!0},{default:u(()=>[r[8]||=D(`span`,null,[S(` Las imágenes seleccionadas `),D(`strong`,null,`no se subirán automáticamente`),S(` a la wiki. Este selector solo agrega las imágenes al formulario actual. `)],-1),D(`div`,Nr,[r[6]||=S(` Para subir imágenes a la wiki, ve a `,-1),v(Me,{link:`Special:Upload?multiple=true`,text:`Especial:Subir`}),r[7]||=S(` y súbelas manualmente. `,-1)]),r[9]||=D(`div`,{class:`mt-3`},[D(`span`,{class:`has-text-weight-bold`},`NOTA`),S(`: Las imágenes agregadas aquí deben el mismo nombre que las que subas a la wiki. Si no, el formulario completará automáticamente el nombre de la imagen incorrectamente. `)],-1)]),_:1},8,[`visible`]),v(Ar)]))}}),[[`__scopeId`,`data-v-8f8c2b8a`]]);export{Te as i,Ie as n,Ee as r,Pr as t};