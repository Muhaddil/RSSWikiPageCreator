"use strict";import{d as oe,r as i,c as D,a2 as te,x as ie,y as ce,a as u,o as d,f as c,k as g,b as a,a$ as ne,h as n,U as P,g as v,t as o,B as re,F as V,H as de,j as me,e as ue,a9 as ve,p as pe}from"./main-BrZIMGxT.js";import{_ as ye}from"./logo-white-CwkOOWqZ.js";import{s as F}from"./index-A86s9KO0.js";import{s as M}from"./index-CpO-dGGk.js";import{s as Se}from"./index-DxF6kPZB.js";import{s as N}from"./index-C6sa71DF.js";import"./index-ILyPL05I.js";const ge={class:"space-page-container"},De={class:"flex items-start justify-between mb-6 header-container"},fe={class:"filter-container mb-6 p-4 bg-space-dark rounded-lg"},he={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},we={class:"panel-content"},be={key:0,class:"loading-message"},Ce={key:1,class:"error-message p-error"},ke={class:"p-4"},Le={class:"flex flex-column gap-3"},Re={class:"update-title"},xe={class:"update-details"},Ee={class:"detail-item"},Te={class:"detail-item"},_e={class:"detail-item"},Ge={class:"detail-value"},Pe={class:"detail-item"},Ve={class:"glyph-value"},Fe={class:"detail-item"},Me={class:"detail-value"},Ne={class:"detail-item"},Ue={class:"detail-value"},We={class:"detail-item"},Ie={class:"detail-value"},je={class:"detail-item"},Be={class:"detail-value"},qe={class:"detail-item"},ze={class:"detail-value"},Ae={class:"detail-item"},$e={class:"detail-value"},He={class:"detail-item"},Oe={class:"detail-value"},Ye={class:"detail-item"},Je={class:"detail-value"},Ke={class:"detail-item"},Qe={class:"detail-value"},Xe={class:"detail-item"},Ze={class:"detail-value"},ea=oe({__name:"RSSSystems",setup(sa){const U={origin:"*",format:"json",limit:"500"},f=i(window.innerWidth),R=i(!1),W=s=>{const e=new URLSearchParams;return Object.entries(s).forEach(([l,t])=>{e.set(l,Array.isArray(t)?t.join(","):String(t))}),`https://nomanssky.fandom.com/api.php?${e.toString()}`},I=(s=0)=>W({...U,action:"cargoquery",tables:"Systems",fields:["Systems._pageName=SystemName","Systems._pageTitle=SystemTitle","Systems.Coordinates","Systems.Galaxy","Systems.Region","Systems.Class","Systems.Color","Systems.Faction","Systems.Planets","Systems.Moons","Systems.Civilized","Systems.Distance","Systems.Platform","Systems.SystemID","Systems.Game_Release","Systems.Economy","Systems.Wealth","Systems.Buy","Systems.Sell","Systems.Conflict","Systems.Water","Systems.Dissonant","Systems.Gateway","Systems.Discovered","Systems.DiscoveredLink","Systems.ResearchTeam","Systems.MultipleStars","Systems.NoShow","Systems.Misc"].join(","),order_by:"Systems._pageName ASC",where:"Systems.Civilized='Royal Space Society'",offset:s}),j=s=>{if(!s?.cargoquery)throw new Error("La respuesta de la API no contiene datos v\xE1lidos");return s.cargoquery.map(({title:e})=>({SystemName:e.SystemName||"Desconocido",SystemTitle:e.SystemTitle||"Desconocido",Coordinates:e.Coordinates||"Desconocido",Galaxy:e.Galaxy||"Desconocido",Region:e.Region||"Desconocido",Class:e.Class||"Desconocido",Color:e.Color||"Desconocido",Faction:e.Faction||"Desconocido",Planets:e.Planets||"Desconocido",Moons:e.Moons||"Desconocido",Civilized:e.Civilized||"Desconocido",Distance:e.Distance||"Desconocido",Platform:e.Platform||"Desconocido",SystemID:e.SystemID||"Desconocido",Game_Release:e.Game_Release||"Desconocido",Economy:e.Economy||"Desconocido",Wealth:e.Wealth||"Desconocido",Buy:e.Buy||"Desconocido",Sell:e.Sell||"Desconocido",Conflict:e.Conflict||"Desconocido",Water:e.Water||"Desconocido",Dissonant:e.Dissonant||"Desconocido",Gateway:e.Gateway||"Desconocido",Discovered:e.Discovered||"Desconocido",DiscoveredLink:e.DiscoveredLink||"Desconocido",ResearchTeam:e.ResearchTeam||"Desconocido",MultipleStars:e.MultipleStars||"Desconocido",NoShow:e.NoShow||"Desconocido",Misc:e.Misc||"Desconocido"}))},B=async(s=0)=>{const e=I(s),l=await fetch(e);if(!l.ok)throw new Error(`Error HTTP: ${l.status}`);const t=await l.json();if(t.error)throw new Error(`Error API: ${t.error.info}`);return j(t)},m=i([]),h=i([]),w=i(!1),b=i(null),p=i(""),y=i(""),r=i(""),S=i(""),x=()=>{h.value=m.value.filter(s=>(!p.value||s.SystemName.toLowerCase().includes(p.value.toLowerCase()))&&(!y.value||s.Galaxy===y.value)&&(!S.value||s.Region===S.value)&&(!r.value||s.DiscoveredLink&&s.DiscoveredLink.toLowerCase().includes(r.value.toLowerCase())||s.Discovered&&s.Discovered.toLowerCase().includes(r.value.toLowerCase())||s.ResearchTeam&&s.ResearchTeam.toLowerCase().includes(r.value.toLowerCase())))},E=D(()=>[...new Set(m.value.map(s=>s.Galaxy))].sort()),q=D(()=>[...new Set(m.value.map(s=>s.Region))].sort()),z=D(()=>{const s=new Set;return m.value.forEach(e=>{e.DiscoveredLink&&e.DiscoveredLink!=="Desconocido"&&s.add(e.DiscoveredLink.trim()),e.Discovered&&e.Discovered!=="Desconocido"&&s.add(e.Discovered.trim()),e.ResearchTeam&&e.ResearchTeam!=="Desconocido"&&s.add(e.ResearchTeam.trim())}),[...s].sort()}),A=D(()=>f.value<768?1:f.value<1200?2:3);te([p,y,r,S],x),ie(async()=>{window.addEventListener("resize",()=>f.value=window.innerWidth),window.addEventListener("scroll",T),w.value=!0;try{m.value=await B(),x()}catch(s){console.error(s),b.value="Error al cargar sistemas"}finally{w.value=!1}}),ce(()=>{window.removeEventListener("scroll",T)});const T=()=>{R.value=window.scrollY>300},$=()=>{window.scrollTo({top:0,behavior:"smooth"})};function H(s){const e=s.split(":");if(e.length!==4)return"";const[l,t,Y]=e,C=parseInt(l,16),k=parseInt(t,16),L=parseInt(Y,16),J="000",_=2049,G=2047,K=129,Q=127,X=C<=2046?C+_:C-G,Z=L<=2046?L+_:L-G,ee=k<=126?k+K:k-Q,ae=X.toString(16).toUpperCase().padStart(3,"0"),se=ee.toString(16).toUpperCase().padStart(2,"0"),le=Z.toString(16).toUpperCase().padStart(3,"0");return"0"+J+se+le+ae}function O(s){return H(s)}return(s,e)=>(d(),u(V,null,[c(n(F),{class:"p-0 galactic-card"},{content:g(()=>[a("div",ge,[a("div",De,[e[4]||(e[4]=a("div",{class:"flex flex-col"},[a("a",{href:"https://nomanssky.fandom.com/es/wiki/Systems",target:"_blank"},[a("div",{class:"wiki-logo"},[a("img",{src:ye,class:"logo-image",alt:"Wiki Logo"})])]),a("div",{class:"header-container"},[a("div",{class:"title-theme-container"},[a("h1",{class:"galactic-title"},[a("span",{class:"title-text"},"Sistemas RSS")])])]),a("p",{class:"text-stellar-gray mt-2"},"Listado de sistemas de la Royal Space Society")],-1)),c(ne)]),a("div",fe,[a("div",he,[a("div",null,[e[5]||(e[5]=a("label",{class:"block mb-2"},"Buscar nombre:",-1)),c(n(P),{modelValue:p.value,"onUpdate:modelValue":e[0]||(e[0]=l=>p.value=l),placeholder:"Buscar sistema...",class:"w-full"},null,8,["modelValue"])]),a("div",null,[e[6]||(e[6]=a("label",{class:"block mb-2"},"Filtrar galaxia:",-1)),c(n(N),{modelValue:y.value,"onUpdate:modelValue":e[1]||(e[1]=l=>y.value=l),options:E.value,placeholder:"Todas las galaxias",showClear:"",class:"w-full"},null,8,["modelValue","options"])]),a("div",null,[e[7]||(e[7]=a("label",{class:"block mb-2"},"Filtrar regi\xF3n:",-1)),c(n(N),{modelValue:S.value,"onUpdate:modelValue":e[2]||(e[2]=l=>S.value=l),options:q.value,placeholder:"Todas las regiones",showClear:"",class:"w-full"},null,8,["modelValue","options"])]),a("div",null,[e[8]||(e[8]=a("label",{class:"block mb-2"},"Filtrar por usuario:",-1)),c(n(P),{modelValue:r.value,"onUpdate:modelValue":e[3]||(e[3]=l=>r.value=l),placeholder:"Buscar descubridor o equipo...",class:"w-full"},null,8,["modelValue"])])])]),c(n(Se),{class:"galactic-panel"},{header:g(()=>e[9]||(e[9]=[a("h2",{class:"panel-title"},"Estad\xEDsticas",-1)])),default:g(()=>[a("div",we,[a("p",null,[e[10]||(e[10]=v(" \u{1F310} Sistemas totales: ",-1)),a("strong",null,o(m.value.length),1)]),a("p",null,[e[11]||(e[11]=v(" \u{1F50D} Filtrados: ",-1)),a("strong",null,o(h.value.length),1)]),a("p",null,[e[12]||(e[12]=v(" \u{1FA90} Galaxias: ",-1)),a("strong",null,o(E.value.length),1)]),a("p",null,[e[13]||(e[13]=v(" \u{1F464} Usuarios \xFAnicos: ",-1)),a("strong",null,o(z.value.length),1)])])]),_:1}),e[30]||(e[30]=a("br",null,null,-1)),w.value?(d(),u("div",be,e[14]||(e[14]=[a("i",{class:"pi pi-spinner pi-spin"},null,-1),v(" Cargando sistemas... ",-1)]))):b.value?(d(),u("div",Ce,[e[15]||(e[15]=a("i",{class:"pi pi-exclamation-triangle"},null,-1)),v(" "+o(b.value),1)])):(d(),u("div",{key:2,class:"grid gap-4",style:re(`grid-template-columns: repeat(${A.value}, 1fr)`)},[(d(!0),u(V,null,de(h.value,(l,t)=>(d(),me(n(F),{key:t,class:"update-card"},{content:g(()=>[a("div",ke,[a("div",Le,[a("h3",Re,o(l.SystemName),1),a("div",xe,[a("div",Ee,[e[16]||(e[16]=a("span",{class:"detail-label"},"Regi\xF3n:",-1)),c(n(M),{value:l.Region,class:"category-tag"},null,8,["value"])]),a("div",Te,[e[17]||(e[17]=a("span",{class:"detail-label"},"Galaxia:",-1)),c(n(M),{value:l.Galaxy,class:"category-tag"},null,8,["value"])]),a("div",_e,[e[18]||(e[18]=a("span",{class:"detail-label"},"Coordenadas:",-1)),a("span",Ge,o(l.Coordinates),1)]),a("div",Pe,[e[19]||(e[19]=a("span",{class:"detail-label"},"Glifos:",-1)),a("span",Ve,o(O(l.Coordinates)),1)]),a("div",Fe,[e[20]||(e[20]=a("span",{class:"detail-label"},"Clase:",-1)),a("span",Me,o(l.Class),1)]),a("div",Ne,[e[21]||(e[21]=a("span",{class:"detail-label"},"Color:",-1)),a("span",Ue,o(l.Color),1)]),a("div",We,[e[22]||(e[22]=a("span",{class:"detail-label"},"Facci\xF3n:",-1)),a("span",Ie,o(l.Faction),1)]),a("div",je,[e[23]||(e[23]=a("span",{class:"detail-label"},"Planetas:",-1)),a("span",Be,o(l.Planets),1)]),a("div",qe,[e[24]||(e[24]=a("span",{class:"detail-label"},"Lunas:",-1)),a("span",ze,o(l.Moons),1)]),a("div",Ae,[e[25]||(e[25]=a("span",{class:"detail-label"},"Descubridor:",-1)),a("span",$e,o(l.Discovered&&l.Discovered!=="Desconocido"?l.Discovered:l.DiscoveredLink),1)]),a("div",He,[e[26]||(e[26]=a("span",{class:"detail-label"},"Equipo investigaci\xF3n:",-1)),a("span",Oe,o(l.ResearchTeam),1)]),a("div",Ye,[e[27]||(e[27]=a("span",{class:"detail-label"},"Econom\xEDa:",-1)),a("span",Je,o(l.Economy),1)]),a("div",Ke,[e[28]||(e[28]=a("span",{class:"detail-label"},"Riqueza:",-1)),a("span",Qe,o(l.Wealth),1)]),a("div",Xe,[e[29]||(e[29]=a("span",{class:"detail-label"},"Conflictos:",-1)),a("span",Ze,o(l.Conflict),1)])])])])]),_:2},1024))),128))],4))])]),_:1}),c(ve,{name:"fade"},{default:g(()=>[R.value?(d(),u("button",{key:0,onClick:$,class:"scroll-top-button"},e[31]||(e[31]=[a("i",{class:"pi pi-arrow-up"},null,-1)]))):ue("",!0)]),_:1})],64))}}),aa=pe(ea,[["__scopeId","data-v-f2ab8ef2"]]);export{aa as default};
