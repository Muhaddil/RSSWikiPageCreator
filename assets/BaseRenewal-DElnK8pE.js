"use strict";import{_ as P}from"./PageCreator.vue_vue_type_script_setup_true_lang-Bd3jehN1.js";import{d as g,u as S,s as k,a as I,o as b,t as A,h as p,p as O,r as y,a2 as B,aT as G,b as s,f as u,W as H,g as c,aU as M,k as v,l as C,_ as D,Z as F,aV as $,j as L}from"./main-boNpAIdz.js";import{T as W}from"./TextareaInput-CxeEaFzl.js";import"./index-CUqxVh01.js";import"./index-DenU3gMM.js";const Y={class:"formatted-text"},Z=g({__name:"baseOutput",setup(_){const t=S(),{censusrenewal:l}=k(t);return(h,i)=>(b(),I("pre",Y,A(p(l)),1))}}),J=O(Z,[["__scopeId","data-v-41f504f8"]]),K={class:"code-container"},Q={class:"checkbox-container"},X=g({__name:"BaseInput",setup(_){const t=S(),{censusrenewal:l,release:h,name:i}=k(t),j=new Date().getUTCFullYear(),w=h.value,d=y(!1),V=y("");function N(a){const e=j,n=/censusrenewal\s*=\s*([^\n]*)/,r=a.match(n);if(r&&r[1]){let o=r[1].split(",").map(f=>f.trim());if(o.length===0)return a.replace(n,`censusrenewal = ${e}`);if(d.value){const f=parseInt(o[o.length-1],10);for(let m=f+1;m<=e;m++)o.includes(m.toString())||o.push(m.toString())}return o.includes(e.toString())||o.push(e.toString()),a.replace(n,`censusrenewal = ${o.join(", ")}`)}else return a.trimEnd()+`
censusrenewal = ${e}`}function U(a){const e=/{{Version\|([^\n]*)}}/,n=/\| release =\s*([^\n]*)/;let r=a.replace(e,`{{Version|${w}}}`);return r=r.replace(n,`| release = ${w}`),r}function E(a){let e=N(a);return e=U(e),e}function R(a){const e=/\| name =\s*([^\n]*)/,n=a.match(e);return n&&n[1]?n[1].trim():""}function T(){if(l.value){const a=E(l.value);t.censusrenewal=a,V.value=R(l.value),t.name=V.value}}B(d,()=>{T()}),B(l,()=>{T()});const x=G();function q(a){x.error(a,{position:$.BOTTOM_RIGHT})}function z(){const a=[{field:t.name,message:"\xA1Pon el nombre de tu base!"}];for(const{field:e,message:n}of a)if(!e){q(n);return}x.success("\xA1Creada!",{position:$.BOTTOM_RIGHT}),window.open(`https://nomanssky.fandom.com/wiki/${t.name}?action=edit#editform`,"_blank")}return(a,e)=>(b(),I("div",K,[e[6]||(e[6]=s("h2",{class:"title"},"Actualizaci\xF3n del Censo RSS",-1)),e[7]||(e[7]=s("p",{class:"description"}," Pega aqu\xED el c\xF3digo que deseas actualizar. Los valores se actualizar\xE1n autom\xE1ticamente con el a\xF1o actual y la versi\xF3n m\xE1s reciente. ",-1)),s("div",Q,[s("label",null,[H(s("input",{type:"checkbox","onUpdate:modelValue":e[0]||(e[0]=n=>d.value=n)},null,512),[[M,d.value]]),e[3]||(e[3]=c(" A\xF1adir todos los a\xF1os desde el \xFAltimo registrado. ",-1))]),e[4]||(e[4]=s("div",{class:"note"},[s("p",null,[s("strong",null,"Nota:"),c(" Selecciona esto antes de ingresar tu c\xF3digo o puede haber errores.")])],-1))]),u(D,{modelValue:p(i),"onUpdate:modelValue":e[1]||(e[1]=n=>C(i)?i.value=n:null),"help-img":"base/baseName","help-title":"Nombre de la Base:",label:"Nombre de la Base",tooltip:"Escribe exactamente como se ve en el juego. Cuidado con 0 (cero) y O (o)."},{default:v(()=>e[5]||(e[5]=[c(" Escribe exactamente como se ve en el juego. Cuidado con 0 (cero) y O (o). ",-1)])),_:1,__:[5]},8,["modelValue"]),u(p(F),{as:"a",label:"Ir a la base",severity:"warn",onClick:z}),e[8]||(e[8]=s("br",null,null,-1)),e[9]||(e[9]=s("br",null,null,-1)),u(W,{modelValue:p(l),"onUpdate:modelValue":e[2]||(e[2]=n=>C(l)?l.value=n:null),label:"Pega tu c\xF3digo aqu\xED",placeholder:"Ejemplo de c\xF3digo a pegar",class:"textarea-input"},null,8,["modelValue"]),e[10]||(e[10]=s("div",{class:"note"},[s("p",null,[s("strong",null,"Nota:"),c(" Si no tienes ning\xFAn a\xF1o en el campo de "),s("code",null,"censusrenewal"),c(", el sistema fallar\xE1. ")])],-1))]))}}),ee=O(X,[["__scopeId","data-v-0637f808"]]),ae=g({__name:"BaseRenewal",setup(_){return(t,l)=>(b(),L(P,null,{input:v(()=>[u(ee)]),output:v(()=>[u(J)]),_:1}))}});export{ae as default};
