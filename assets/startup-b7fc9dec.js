import{D as h,aN as U,d as g,aw as F,aO as j,aP as M,h as x,av as O,aQ as q,aR as c,aS as N,aT as G,u as I,b as w,aD as W,aU as _,t as $,aV as V,g as l,l as m,f as p,aW as J,e as Q,aE as v,aX as C,aY as S,n as f,aZ as X,a_ as L,ab as Y,s as A,q as Z,v as B,a$ as z,b0 as K,b1 as ee,b2 as te,b3 as ne,b4 as T,b5 as ae,m as P}from"./links-003eaada.js";const oe=[{element:"nameInput",func:function(){h()}},{element:"researchTeam",func:function(){U(),g()}},{element:"fileUpload",handler:"change",func:function(){F(this)}},{element:"portalglyphsInput",func:function(){j(this),M(),h()}},{element:"discoveredInput",func:function(){x("discoveredInput","discoveredlinkInput"),g()}},{element:"discoveredlinkInput",func:function(){x("discoveredlinkInput","discoveredInput"),g()}},{element:"docbyInput",func:function(){g()}},{element:"axesInput",handler:"change",func:function(){O()}},{element:"glyphDeleteButton",handler:"click",func:function(){q()}},{element:"fileUploadTooltip",handler:"click",func:function(){c.uploadShown=!0}},{element:"galleryFileUploadTooltip",handler:"click",func:function(){c.galleryUploadShown=!0}}];N(),G(),I(V),w(oe),W();const re={output:{explanationHeading:"explanationHeading",explanationContent:"explanationContent",explanationLink:"explanationLink",explanationWebpImg:"explanationWebpImg",explanationFallbackImg:"explanationFallbackImg"}},E=l.output.explanation;E&&(E.innerHTML=_),I(re);const se=["builderInput","builderlinkInput","discoveredInput","discoveredlinkInput"];for(const e of se){const t=l.input[e];t&&(t.dataset.player="")}function ie(){var e,t;const n=document.querySelectorAll(".table .data input, .table .data textarea"),a=document.querySelectorAll(".table .data select"),o=document.getElementsByTagName("output");for(const e of Array.from(n))switch(e.type.toLowerCase()){case"checkbox":e.checked=!1;break;case"radio":const t=document.querySelectorAll('input[type="radio"]:not([checked])'),n=document.querySelectorAll('input[type="radio"][checked]');for(const e of Array.from(t))e.checked=!1;for(const e of Array.from(n))e.checked=!0;break;default:e.value=""}for(const n of Array.from(a))n.value=null==(t=null==(e=n.options)?void 0:e[0])?void 0:t.value;for(const e of Array.from(o))e.innerText="";J();for(const e in p)delete p[e];const r=document.querySelectorAll(".error");for(const e of Array.from(r))Q(e.previousElementSibling);for(const e in v)delete v[e];"function"==typeof m.resetExternal&&m.resetExternal(),C(),S()}function R(e,t){var n,a,o,r;e.style.pointerEvents="none";const{innerText:i,dataset:{link:c}}=e;f.text=X(JSON.stringify(p)),f.copy=!0,f.link=c;const s=L(e);if(s)return e.classList.remove("is-primary"),e.classList.add("is-danger"),e.innerText=s,void setTimeout((()=>{e.classList.remove("is-danger"),e.classList.add("is-primary"),e.innerText=i,e.style.pointerEvents=""}),1500);const u=(null==(r=null==(o=null==(a=null==(n=l)?void 0:n.output)?void 0:a[t])?void 0:o.innerText)?void 0:r.replaceAll("\n\n\n","\n\n"))??t;navigator.clipboard.writeText(u),f.copy=!0,f.link=c,e.innerText="Copied!",setTimeout((()=>{e.innerText=i,e.style.pointerEvents=""}),1500)}function ce(e){const t=l.output.fullArticle.innerText.replaceAll("\n\n\n","\n\n"),n=p.name,a=e;a.href="data:text/plain,"+encodeURIComponent(t),a.download=n+".txt"}function D(e,t=p.name){e.style.pointerEvents="none";le(e,Y+"Special:EditPage/"+t)}function le(e,t){const n=L(e),a=new RegExp(`[${["#","<",">","[","]","{","|","}"].join("")}]`,"g");if(n){const t=e.innerText;e.removeAttribute("href"),e.className="button is-danger",e.innerText=n,setTimeout((()=>{e.className="button is-outlined is-primary",e.innerText=t,e.style.pointerEvents=""}),1500)}else e.href=t.replace(a," "),e.target="_blank",e.rel="noopener noreferrer",e.style.pointerEvents=""}function be(){var e;if("function"!=typeof m.redirectPage)return;const t=document.getElementById("reset"),n=["copyRedirect","createRedirect"],a=document.createElement("p");if(a.id="redirectNote",a.classList.add("has-text-centered"),a.innerText="Please create a redirect for your page!",!m.redirectPage())return n.forEach((()=>{const e=t.previousElementSibling;n.includes(e.id)&&e.remove()})),void(null==(e=document.getElementById(a.id))||e.remove());const o=document.createElement("button");o.innerText="Copy Redirect Code",o.type="button";const r=document.createElement("a");r.rel="noopener noreferrer",r.target="_blank",r.innerText="Create Redirect",w([{element:o,handler:"click",func:function(){R(this,`#REDIRECT [[${p.name}]]`)}},{element:r,handler:"click",func:function(){D(this,m.redirectPage())}}]);const i=[o,r];for(let e=0;e<i.length;e++){const a=i[e],o=n[e];if(document.getElementById(o))return;a.classList.add("button","is-outlined","is-primary"),a.id=o,a.dataset.link="redirect",t.insertAdjacentElement("beforebegin",a)}t.parentElement.insertAdjacentElement("beforebegin",a)}$();const de='\n<button class="button is-outlined is-primary" id="copy" type="button" data-link="page" data-evt-id="copyButton">Copiar Wikicode</button>\n<a class="button is-outlined is-primary" id="download" data-evt-id="downloadButton">Descargar código</a>\n<a class="button is-outlined is-primary" href="https://nomanssky.fandom.com/wiki/Special:Upload?multiple=true" id="uploadLink" rel="noopener noreferrer" target="_blank">Especial:Subir</a>\n<a class="button is-outlined is-primary" id="create" data-link="page" data-evt-id="createPageButton">Crear página</a>\n<button class="button is-warning" id="reset" type="reset" data-evt-id="resetButton">Restablecer entradas</button>',ue=[{element:"copyButton",handler:"click",func:function(){R(this,"fullArticle")}},{element:"downloadButton",handler:"click",func:function(){ce(this)}},{element:"createPageButton",handler:"click",func:function(){D(this)}},{element:"resetButton",handler:"click",func:()=>ie()}],pe=A(de,{},ue),fe='<p class="has-text-centered">Primero debes copiar el código y luego pegarlo en la página wiki.<br />Además, no olvides cargar las imágenes que hayas puesto aquí.</p>',b=l.output.actions;b.innerHTML="",Z(pe,b,"afterbegin"),b.insertAdjacentHTML("beforebegin",fe);const me='\n<label style="display:flex; gap: .3rem"><input class="checkbox" type="checkbox" id="skipCheck" data-evt-id="skipCheck">Habilitar depuración (sin controles, sin ventanas emergentes)</label>;\n<button style="margin: 0 1rem" class="button is-danger is-small" id="clearCache" data-evt-id="clearCache">Clear Localstorage</button>',ge=[{element:"clearCache",handler:"click",func:()=>localStorage.clear()},{element:"skipCheck",handler:"change",func:function(){const e=this.checked;c.debug=e,c.uploadShown=e,c.galleryUploadShown=e,document.documentElement.dataset.debug=e.toString(),h()}}];l.output.actions,A(me,{},ge),Object.defineProperty(c,"debug",{configurable:!1,writable:!1,value:!1});const y=document.getElementById("skipCheck");y&&new URLSearchParams(window.location.search).has("debug")&&(y.checked=!0,B(y,"change")),z(l.output.portalglyphButtons,"portalglyphsInput");const he=K();P("pageType",he),ee(),C(),te(),c.uploadShown=!0,c.galleryUploadShown=!0,S(),c.debug||(c.uploadShown=!1,c.galleryUploadShown=!1),h();const H=l.output.output;H.onmousedown=()=>ne();for(const e of Array.from(H.children)){const t=e;t.onmouseup=e=>T(e.target),t.ontouchend=e=>T(e.target)}ae();try{B(l.input.portalglyphsInput,"input")}catch{}P("eventListeners",!0);export{le as a,R as c,be as t};
