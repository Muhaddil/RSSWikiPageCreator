import{_ as I}from"./logo-white-CwkOOWqZ.js";import{e as L,k as x,w as d,n as b}from"./primevue-B5xHOMrV.js";import{f as R,a as V}from"./api-vPU2WsH5.js";import{_ as $,r as p,q as E,o as T,J as w,b as l,K as o,d as e,O as i,c as u,x as t,E as m,F as r,Y as U,Q as D,R as W,L as C}from"./@vue-AaAR792z.js";import{b as z}from"./main-AFFqryE_.js";import"./@primevue-CoWSFWgT.js";import"./@primeuix-B3koxSuN.js";/* empty css              */import"./@vueuse-CeyP63Rz.js";import"./pinia-DTMVEOtY.js";import"./parse-mediawiki-template--QNsUU1W.js";import"./vue-toastification-DhlY5ulG.js";/* empty css                   */const F={class:"space-page-container"},M={class:"filter-container mb-4 flex items-center"},P={class:"panel-content"},j={class:"security-level mt-2"},A={class:"update-info"},J={key:0,class:"loading-message"},O={key:1,class:"error-message p-error"},Y={class:"p-4 base-content"},q={class:"flex flex-column gap-3"},K={class:"flex align-items-center gap-2"},Q={class:"base-title"},Z={class:"base-details"},G={class:"detail-item"},H={class:"detail-value"},X={class:"detail-item"},ee={class:"detail-value"},ae={class:"flex gap-2"},se={class:"panel-content-with-image"},te=["href"],le=["src","onClick"],ne="Royal Space Society",ie=$({__name:"CensusTable",setup(oe){const c=p([]),f=p(!0),g=p(null),y=p(window.innerWidth),v=p(""),S=E(()=>y.value<768?1:y.value<1200?2:3),k=async(n=0,a)=>{try{const s=await R(ne,n,a);await Promise.all(s.map(async _=>{_.imageUrl=await V(_._pageName)})),c.value=[...c.value,...s],s.length===500&&await k(n+500,a)}catch(s){g.value="Error al cargar las bases",console.error(s)}finally{f.value=!1}},N=async()=>{c.value=[],f.value=!0,g.value=null,await k(0,v.value)};T(async()=>{window.addEventListener("resize",()=>y.value=window.innerWidth),await k(0,v.value)});const h=n=>n.trim().replace(/\s+/g,"_").replace(/\//g,"_"),B=n=>{window.open(n,"_blank")};return(n,a)=>(l(),w(t(b),{class:"p-0 galactic-card"},{content:o(()=>[e("div",F,[a[11]||(a[11]=e("div",{class:"flex items-start justify-between mb-6 header-container"},[e("div",{class:"flex flex-col"},[e("a",{href:"https://nomanssky.fandom.com/es/wiki/Royal_Space_Society",target:"_blank"},[e("div",{class:"rss-logo"},[e("img",{src:I,class:"logo-image",alt:"RSS Logo"})])]),e("div",{class:"header-container"},[e("div",{class:"title-theme-container"},[e("h1",{class:"galactic-title"},[e("span",{class:"title-text"},"Censo de Bases - Royal Space Society")])])]),e("p",{class:"text-stellar-gray mt-2"},"Explora las bases espaciales de la Royal Space Society")])],-1)),e("div",M,[a[1]||(a[1]=e("label",{for:"yearInput",class:"mr-2"},"Selecciona el año del censo:",-1)),i(t(L),{id:"yearInput",type:"number",modelValue:v.value,"onUpdate:modelValue":a[0]||(a[0]=s=>v.value=s),placeholder:"Ej. 2023",class:"p-inputtext"},null,8,["modelValue"]),e("button",{onClick:N,class:"p-button p-component ml-2"}," Filtrar ")]),i(t(x),{class:"galactic-panel mt-6"},{header:o(()=>a[2]||(a[2]=[e("h2",{class:"panel-title"},"Información del Censo",-1)])),default:o(()=>[e("div",P,[e("p",null,[a[3]||(a[3]=m(" Total de bases registradas: ")),e("strong",null,r(c.value.length),1)]),e("p",j,[a[4]||(a[4]=m(" Nivel de seguridad: ")),i(t(d),{value:"Clasificado RSS",severity:"info",class:"category-tag"})]),e("p",A,"Última actualización: "+r(new Date().toLocaleDateString()),1)])]),_:1}),a[12]||(a[12]=e("br",null,null,-1)),f.value?(l(),u("div",J,a[5]||(a[5]=[e("i",{class:"pi pi-spinner pi-spin"},null,-1),m(" Cargando bases espaciales... ")]))):g.value?(l(),u("div",O,[a[6]||(a[6]=e("i",{class:"pi pi-exclamation-triangle"},null,-1)),m(" "+r(g.value),1)])):(l(),u("div",{key:2,class:"grid gap-4",style:U(`grid-template-columns: repeat(${S.value}, 1fr)`)},[(l(!0),u(D,null,W(c.value,(s,_)=>(l(),w(t(b),{key:_,class:"link-card"},{content:o(()=>[e("div",Y,[e("div",q,[e("div",K,[e("h3",Q,r(s.Name),1),i(t(d),{value:s.Platform,severity:"info",class:"category-tag"},null,8,["value"])]),e("div",Z,[e("div",G,[a[7]||(a[7]=e("span",{class:"detail-label"},"Jugador:",-1)),e("span",H,r(s.CensusPlayer),1)]),e("div",X,[a[8]||(a[8]=e("span",{class:"detail-label"},"Sistema:",-1)),e("span",ee,r(s.System),1)]),e("div",ae,[i(t(d),{value:s.Mode,severity:"success",class:"category-tag"},null,8,["value"]),i(t(d),{value:`Llegada: ${s.CensusArrival}`,severity:"warning",class:"category-tag"},null,8,["value"]),i(t(d),{value:`Renovación: ${s.CensusRenewal}`,severity:"danger",class:"category-tag"},null,8,["value"])])]),s.Name?(l(),w(t(x),{key:0,class:"builder-panel mt-3"},{header:o(()=>a[9]||(a[9]=[e("span",{class:"builder-link-header"},"Enlaces de la Base",-1)])),default:o(()=>[e("div",se,[e("a",{href:`https://nomanssky.fandom.com/wiki/${h(s._pageName)}`,target:"_blank",class:"builder-link"},a[10]||(a[10]=[e("i",{class:"pi pi-external-link"},null,-1),m(" Ver detalles de construcción ")]),8,te),s.imageUrl?(l(),u("img",{key:0,src:s.imageUrl.panel,alt:"Imagen de la base",class:"panel-base-image",onClick:re=>B(`https://nomanssky.fandom.com/wiki/${h(s._pageName)}`)},null,8,le)):C("",!0)])]),_:2},1024)):C("",!0)])])]),_:2},1024))),128))],4))])]),_:1}))}}),xe=z(ie,[["__scopeId","data-v-e5971e2c"]]);export{xe as default};
