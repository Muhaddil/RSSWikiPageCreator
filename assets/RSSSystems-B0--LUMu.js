"use strict";import{d as ae,r as i,c as k,a2 as se,x as le,y as oe,a as m,o as d,f as c,k as S,b as a,a$ as te,h as n,U as G,g as u,t as o,B as ie,F as P,H as ce,j as ne,e as re,a9 as de,p as me}from"./main-CeCNonkq.js";import{_ as ue}from"./logo-white-CwkOOWqZ.js";import{s as M}from"./index-BvStV3EZ.js";import{s as N}from"./index-B18gpATz.js";import{s as ve}from"./index-k_rRa1tL.js";import{s as pe}from"./index-0f2K2GCD.js";import"./index-C9fkoKKj.js";const ye={class:"space-page-container"},Se={class:"flex items-start justify-between mb-6 header-container"},De={class:"filter-container mb-6 p-4 bg-space-dark rounded-lg"},ge={class:"grid grid-cols-1 md:grid-cols-3 gap-4"},fe={class:"panel-content"},he={key:0,class:"loading-message"},we={key:1,class:"error-message p-error"},Ce={class:"p-4"},be={class:"flex flex-column gap-3"},ke={class:"update-title"},Le={class:"update-details"},Re={class:"detail-item"},xe={class:"detail-item"},Ee={class:"detail-item"},Te={class:"detail-value"},_e={class:"detail-item"},Ge={class:"glyph-value"},Pe={class:"detail-item"},Me={class:"detail-value"},Ne={class:"detail-item"},We={class:"detail-value"},Fe={class:"detail-item"},Ie={class:"detail-value"},Ue={class:"detail-item"},Ve={class:"detail-value"},je={class:"detail-item"},Be={class:"detail-value"},qe={class:"detail-item"},ze={class:"detail-value"},Ae={class:"detail-item"},$e={class:"detail-value"},He={class:"detail-item"},Oe={class:"detail-value"},Ye={class:"detail-item"},Je={class:"detail-value"},Ke={class:"detail-item"},Qe={class:"detail-value"},Xe=ae({__name:"RSSSystems",setup(ea){const W={origin:"*",format:"json",limit:"500"},D=i(window.innerWidth),L=i(!1),F=l=>{const e=new URLSearchParams;return Object.entries(l).forEach(([s,t])=>{e.set(s,Array.isArray(t)?t.join(","):String(t))}),`https://nomanssky.fandom.com/api.php?${e.toString()}`},I=(l=0)=>F({...W,action:"cargoquery",tables:"Systems",fields:["Systems._pageName=SystemName","Systems._pageTitle=SystemTitle","Systems.Coordinates","Systems.Galaxy","Systems.Region","Systems.Class","Systems.Color","Systems.Faction","Systems.Planets","Systems.Moons","Systems.Civilized","Systems.Distance","Systems.Platform","Systems.SystemID","Systems.Game_Release","Systems.Economy","Systems.Wealth","Systems.Buy","Systems.Sell","Systems.Conflict","Systems.Water","Systems.Dissonant","Systems.Gateway","Systems.Discovered","Systems.DiscoveredLink","Systems.ResearchTeam","Systems.MultipleStars","Systems.NoShow","Systems.Misc"].join(","),order_by:"Systems._pageName ASC",where:"Systems.Civilized='Royal Space Society'",offset:l}),U=l=>{if(!l?.cargoquery)throw new Error("La respuesta de la API no contiene datos v\xE1lidos");return l.cargoquery.map(({title:e})=>({SystemName:e.SystemName||"Desconocido",SystemTitle:e.SystemTitle||"Desconocido",Coordinates:e.Coordinates||"Desconocido",Galaxy:e.Galaxy||"Desconocido",Region:e.Region||"Desconocido",Class:e.Class||"Desconocido",Color:e.Color||"Desconocido",Faction:e.Faction||"Desconocido",Planets:e.Planets||"Desconocido",Moons:e.Moons||"Desconocido",Civilized:e.Civilized||"Desconocido",Distance:e.Distance||"Desconocido",Platform:e.Platform||"Desconocido",SystemID:e.SystemID||"Desconocido",Game_Release:e.Game_Release||"Desconocido",Economy:e.Economy||"Desconocido",Wealth:e.Wealth||"Desconocido",Buy:e.Buy||"Desconocido",Sell:e.Sell||"Desconocido",Conflict:e.Conflict||"Desconocido",Water:e.Water||"Desconocido",Dissonant:e.Dissonant||"Desconocido",Gateway:e.Gateway||"Desconocido",Discovered:e.Discovered||"Desconocido",DiscoveredLink:e.DiscoveredLink||"Desconocido",ResearchTeam:e.ResearchTeam||"Desconocido",MultipleStars:e.MultipleStars||"Desconocido",NoShow:e.NoShow||"Desconocido",Misc:e.Misc||"Desconocido"}))},V=async(l=0)=>{const e=I(l),s=await fetch(e);if(!s.ok)throw new Error(`Error HTTP: ${s.status}`);const t=await s.json();if(t.error)throw new Error(`Error API: ${t.error.info}`);return U(t)},v=i([]),g=i([]),f=i(!1),h=i(null),p=i(""),y=i(""),r=i(""),R=()=>{g.value=v.value.filter(l=>(!p.value||l.SystemName.toLowerCase().includes(p.value.toLowerCase()))&&(!y.value||l.Galaxy===y.value)&&(!r.value||l.DiscoveredLink&&l.DiscoveredLink.toLowerCase().includes(r.value.toLowerCase())||l.Discovered&&l.Discovered.toLowerCase().includes(r.value.toLowerCase())||l.ResearchTeam&&l.ResearchTeam.toLowerCase().includes(r.value.toLowerCase())))},x=k(()=>[...new Set(v.value.map(l=>l.Galaxy))].sort()),j=k(()=>{const l=new Set;return v.value.forEach(e=>{e.DiscoveredLink&&e.DiscoveredLink!=="Desconocido"&&l.add(e.DiscoveredLink.trim()),e.Discovered&&e.Discovered!=="Desconocido"&&l.add(e.Discovered.trim()),e.ResearchTeam&&e.ResearchTeam!=="Desconocido"&&l.add(e.ResearchTeam.trim())}),[...l].sort()}),B=k(()=>D.value<768?1:D.value<1200?2:3);se([p,y,r],R),le(async()=>{window.addEventListener("resize",()=>D.value=window.innerWidth),window.addEventListener("scroll",E),f.value=!0;try{v.value=await V(),R()}catch(l){console.error(l),h.value="Error al cargar sistemas"}finally{f.value=!1}}),oe(()=>{window.removeEventListener("scroll",E)});const E=()=>{L.value=window.scrollY>300},q=()=>{window.scrollTo({top:0,behavior:"smooth"})};function z(l){const e=l.split(":");if(e.length!==4)return"";const[s,t,$]=e,w=parseInt(s,16),C=parseInt(t,16),b=parseInt($,16),H="000",T=2049,_=2047,O=129,Y=127,J=w<=2046?w+T:w-_,K=b<=2046?b+T:b-_,Q=C<=126?C+O:C-Y,X=J.toString(16).toUpperCase().padStart(3,"0"),Z=Q.toString(16).toUpperCase().padStart(2,"0"),ee=K.toString(16).toUpperCase().padStart(3,"0");return"0"+H+Z+ee+X}function A(l){return z(l)}return(l,e)=>(d(),m(P,null,[c(n(M),{class:"p-0 galactic-card"},{content:S(()=>[a("div",ye,[a("div",Se,[e[3]||(e[3]=a("div",{class:"flex flex-col"},[a("a",{href:"https://nomanssky.fandom.com/es/wiki/Systems",target:"_blank"},[a("div",{class:"wiki-logo"},[a("img",{src:ue,class:"logo-image",alt:"Wiki Logo"})])]),a("div",{class:"header-container"},[a("div",{class:"title-theme-container"},[a("h1",{class:"galactic-title"},[a("span",{class:"title-text"},"Sistemas RSS")])])]),a("p",{class:"text-stellar-gray mt-2"},"Listado de sistemas de la Royal Space Society")],-1)),c(te)]),a("div",De,[a("div",ge,[a("div",null,[e[4]||(e[4]=a("label",{class:"block mb-2"},"Buscar nombre:",-1)),c(n(G),{modelValue:p.value,"onUpdate:modelValue":e[0]||(e[0]=s=>p.value=s),placeholder:"Buscar sistema...",class:"w-full"},null,8,["modelValue"])]),a("div",null,[e[5]||(e[5]=a("label",{class:"block mb-2"},"Filtrar galaxia:",-1)),c(n(pe),{modelValue:y.value,"onUpdate:modelValue":e[1]||(e[1]=s=>y.value=s),options:x.value,placeholder:"Todas las galaxias",showClear:"",class:"w-full"},null,8,["modelValue","options"])]),a("div",null,[e[6]||(e[6]=a("label",{class:"block mb-2"},"Filtrar por usuario:",-1)),c(n(G),{modelValue:r.value,"onUpdate:modelValue":e[2]||(e[2]=s=>r.value=s),placeholder:"Buscar descubridor o equipo...",class:"w-full"},null,8,["modelValue"])])])]),c(n(ve),{class:"galactic-panel"},{header:S(()=>e[7]||(e[7]=[a("h2",{class:"panel-title"},"Estad\xEDsticas",-1)])),default:S(()=>[a("div",fe,[a("p",null,[e[8]||(e[8]=u(" \u{1F310} Sistemas totales: ",-1)),a("strong",null,o(v.value.length),1)]),a("p",null,[e[9]||(e[9]=u(" \u{1F50D} Filtrados: ",-1)),a("strong",null,o(g.value.length),1)]),a("p",null,[e[10]||(e[10]=u(" \u{1FA90} Galaxias: ",-1)),a("strong",null,o(x.value.length),1)]),a("p",null,[e[11]||(e[11]=u(" \u{1F464} Usuarios \xFAnicos: ",-1)),a("strong",null,o(j.value.length),1)])])]),_:1}),e[28]||(e[28]=a("br",null,null,-1)),f.value?(d(),m("div",he,e[12]||(e[12]=[a("i",{class:"pi pi-spinner pi-spin"},null,-1),u(" Cargando sistemas... ",-1)]))):h.value?(d(),m("div",we,[e[13]||(e[13]=a("i",{class:"pi pi-exclamation-triangle"},null,-1)),u(" "+o(h.value),1)])):(d(),m("div",{key:2,class:"grid gap-4",style:ie(`grid-template-columns: repeat(${B.value}, 1fr)`)},[(d(!0),m(P,null,ce(g.value,(s,t)=>(d(),ne(n(M),{key:t,class:"update-card"},{content:S(()=>[a("div",Ce,[a("div",be,[a("h3",ke,o(s.SystemName),1),a("div",Le,[a("div",Re,[e[14]||(e[14]=a("span",{class:"detail-label"},"Regi\xF3n:",-1)),c(n(N),{value:s.Region,class:"category-tag"},null,8,["value"])]),a("div",xe,[e[15]||(e[15]=a("span",{class:"detail-label"},"Galaxia:",-1)),c(n(N),{value:s.Galaxy,class:"category-tag"},null,8,["value"])]),a("div",Ee,[e[16]||(e[16]=a("span",{class:"detail-label"},"Coordenadas:",-1)),a("span",Te,o(s.Coordinates),1)]),a("div",_e,[e[17]||(e[17]=a("span",{class:"detail-label"},"Glifos:",-1)),a("span",Ge,o(A(s.Coordinates)),1)]),a("div",Pe,[e[18]||(e[18]=a("span",{class:"detail-label"},"Clase:",-1)),a("span",Me,o(s.Class),1)]),a("div",Ne,[e[19]||(e[19]=a("span",{class:"detail-label"},"Color:",-1)),a("span",We,o(s.Color),1)]),a("div",Fe,[e[20]||(e[20]=a("span",{class:"detail-label"},"Facci\xF3n:",-1)),a("span",Ie,o(s.Faction),1)]),a("div",Ue,[e[21]||(e[21]=a("span",{class:"detail-label"},"Planetas:",-1)),a("span",Ve,o(s.Planets),1)]),a("div",je,[e[22]||(e[22]=a("span",{class:"detail-label"},"Lunas:",-1)),a("span",Be,o(s.Moons),1)]),a("div",qe,[e[23]||(e[23]=a("span",{class:"detail-label"},"Descubridor:",-1)),a("span",ze,o(s.Discovered&&s.Discovered!=="Desconocido"?s.Discovered:s.DiscoveredLink),1)]),a("div",Ae,[e[24]||(e[24]=a("span",{class:"detail-label"},"Equipo investigaci\xF3n:",-1)),a("span",$e,o(s.ResearchTeam),1)]),a("div",He,[e[25]||(e[25]=a("span",{class:"detail-label"},"Econom\xEDa:",-1)),a("span",Oe,o(s.Economy),1)]),a("div",Ye,[e[26]||(e[26]=a("span",{class:"detail-label"},"Riqueza:",-1)),a("span",Je,o(s.Wealth),1)]),a("div",Ke,[e[27]||(e[27]=a("span",{class:"detail-label"},"Conflictos:",-1)),a("span",Qe,o(s.Conflict),1)])])])])]),_:2},1024))),128))],4))])]),_:1}),c(de,{name:"fade"},{default:S(()=>[L.value?(d(),m("button",{key:0,onClick:q,class:"scroll-top-button"},e[29]||(e[29]=[a("i",{class:"pi pi-arrow-up"},null,-1)]))):re("",!0)]),_:1})],64))}}),Ze=me(Xe,[["__scopeId","data-v-a1feefe9"]]);export{Ze as default};
